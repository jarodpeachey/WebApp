.b1pd27zk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.e11y6epp{margin-right:auto;}
.e5n45ii{margin-left:auto;font-size:12px;font-weight:100;}@media (min-width:var(--e5n45ii-0)){.e5n45ii{font-size:12px;}}
.sstv6xs{margin-bottom:20px;}
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxKYXJvZFxcV2VWb3RlXFxXZWJBcHBcXHNyY1xcanNcXGNvbXBvbmVudHNcXEJhbGxvdFxcQmFsbG90RWxlY3Rpb25MaXN0V2l0aEZpbHRlcnMuanN4Il0sIm5hbWVzIjpbIi5iMXBkMjd6ayIsIi5lMTF5NmVwcCIsIi5lNW40NWlpIiwiLnNzdHY2eHMiXSwibWFwcGluZ3MiOiJBQXdjTUE7QUFRQUM7QUFJQUM7QUFTQUMiLCJmaWxlIjoiRDpcXEphcm9kXFxXZVZvdGVcXFdlYkFwcFxcc3JjXFxqc1xcY29tcG9uZW50c1xcQmFsbG90XFxCYWxsb3RFbGVjdGlvbkxpc3RXaXRoRmlsdGVycy5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gJ2xpbmFyaWEvcmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IEJhbGxvdEFjdGlvbnMgZnJvbSAnLi4vLi4vYWN0aW9ucy9CYWxsb3RBY3Rpb25zJztcbmltcG9ydCBCYWxsb3RTdG9yZSBmcm9tICcuLi8uLi9zdG9yZXMvQmFsbG90U3RvcmUnO1xuaW1wb3J0IHsgaGlzdG9yeVB1c2ggfSBmcm9tICcuLi8uLi91dGlscy9jb3Jkb3ZhVXRpbHMnO1xuaW1wb3J0IHsgcmVuZGVyTG9nIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZyc7XG5pbXBvcnQgTG9hZGluZ1doZWVsIGZyb20gJy4uL0xvYWRpbmdXaGVlbCc7XG5pbXBvcnQgT3JnYW5pemF0aW9uQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL09yZ2FuaXphdGlvbkFjdGlvbnMnO1xuaW1wb3J0IFZvdGVyQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL1ZvdGVyQWN0aW9ucyc7XG5pbXBvcnQgVm90ZXJTdG9yZSBmcm9tICcuLi8uLi9zdG9yZXMvVm90ZXJTdG9yZSc7XG5pbXBvcnQgeyBjbGVhbkFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdGV4dEZvcm1hdCc7XG5pbXBvcnQgVm90ZXJHdWlkZVN0b3JlIGZyb20gJy4uLy4uL3N0b3Jlcy9Wb3Rlckd1aWRlU3RvcmUnO1xuaW1wb3J0IFZvdGVyR3VpZGVBY3Rpb25zIGZyb20gJy4uLy4uL2FjdGlvbnMvVm90ZXJHdWlkZUFjdGlvbnMnO1xuXG5jb25zdCBNQVhJTVVNX05VTUJFUl9PRl9DSEFSQUNURVJTX1RPX1NIT1cgPSAzMDtcbmNvbnN0IE1BWElNVU1fTlVNQkVSX09GX0NIQVJBQ1RFUlNfVE9fU0hPV19ERVNLVE9QID0gMzY7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFsbG90RWxlY3Rpb25MaXN0V2l0aEZpbHRlcnMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGJhbGxvdEJhc2VVcmw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgaGlkZVVwY29taW5nRWxlY3Rpb25UaXRsZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgb3JnYW5pemF0aW9uV2VWb3RlSWQ6IFByb3BUeXBlcy5zdHJpbmcsIC8vIElmIGxvb2tpbmcgYXQgdm90ZXIgZ3VpZGUsIHdlIHBhc3MgaW4gdGhlIHBhcmVudCBvcmdhbml6YXRpb25XZVZvdGVJZFxuICAgIHNob3dQcmlvckVsZWN0aW9uc0xpc3Q6IFByb3BUeXBlcy5ib29sLFxuICAgIHRvZ2dsZUZ1bmN0aW9uOiBQcm9wVHlwZXMuZnVuYyxcbiAgfTtcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYmFsbG90RWxlY3Rpb25MaXN0OiBbXSxcbiAgICAgIGJhbGxvdEVsZWN0aW9uTGlzdENvdW50OiAwLFxuICAgICAgbG9hZGluZ05ld0JhbGxvdEl0ZW1zOiBmYWxzZSxcbiAgICAgIHByaW9yRWxlY3Rpb25MaXN0T3BlbjogZmFsc2UsXG4gICAgICB1cGRhdGVkRWxlY3Rpb25JZDogJycsXG4gICAgfTtcbiAgICB0aGlzLmV4ZWN1dGVEaWZmZXJlbnRFbGVjdGlvbiA9IHRoaXMuZXhlY3V0ZURpZmZlcmVudEVsZWN0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nb1RvQmFsbG90Rm9yRGlmZmVyZW50RWxlY3Rpb24gPSB0aGlzLmdvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuYmFsbG90U3RvcmVMaXN0ZW5lciA9IEJhbGxvdFN0b3JlLmFkZExpc3RlbmVyKHRoaXMub25CYWxsb3RTdG9yZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZvdGVyR3VpZGVTdG9yZUxpc3RlbmVyID0gVm90ZXJHdWlkZVN0b3JlLmFkZExpc3RlbmVyKHRoaXMub25Wb3Rlckd1aWRlU3RvcmVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy52b3RlclN0b3JlTGlzdGVuZXIgPSBWb3RlclN0b3JlLmFkZExpc3RlbmVyKHRoaXMub25Wb3RlclN0b3JlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIGxldCBwcmlvckVsZWN0aW9uSWQgPSAnJztcbiAgICBpZiAoQmFsbG90U3RvcmUuYmFsbG90UHJvcGVydGllcykge1xuICAgICAgcHJpb3JFbGVjdGlvbklkID0gQmFsbG90U3RvcmUuYmFsbG90UHJvcGVydGllcy5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQ7XG4gICAgfSBlbHNlIGlmIChWb3RlclN0b3JlLmVsZWN0aW9uSWQoKSkge1xuICAgICAgcHJpb3JFbGVjdGlvbklkID0gVm90ZXJTdG9yZS5lbGVjdGlvbklkKCk7XG4gICAgfVxuICAgIGNvbnN0IGJhbGxvdEVsZWN0aW9uTGlzdCA9IEJhbGxvdFN0b3JlLmJhbGxvdEVsZWN0aW9uTGlzdCgpO1xuICAgIGNvbnN0IGJhbGxvdEVsZWN0aW9uTGlzdENvdW50ID0gYmFsbG90RWxlY3Rpb25MaXN0Lmxlbmd0aDtcbiAgICBpZiAoYmFsbG90RWxlY3Rpb25MaXN0Q291bnQgPT09IDApIHtcbiAgICAgIEJhbGxvdEFjdGlvbnMudm90ZXJCYWxsb3RMaXN0UmV0cmlldmUoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBiYWxsb3RFbGVjdGlvbkxpc3QsXG4gICAgICBiYWxsb3RFbGVjdGlvbkxpc3RDb3VudCxcbiAgICAgIHByaW9yRWxlY3Rpb25JZCxcbiAgICB9KTtcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSAobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYWxsb3RFbGVjdGlvbkxpc3RDb3VudCAhPT0gbmV4dFN0YXRlLmJhbGxvdEVsZWN0aW9uTGlzdENvdW50KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5zdGF0ZS5iYWxsb3RFbGVjdGlvbkxpc3RDb3VudCcsIHRoaXMuc3RhdGUuYmFsbG90RWxlY3Rpb25MaXN0Q291bnQsICcsIG5leHRTdGF0ZS5iYWxsb3RFbGVjdGlvbkxpc3RDb3VudCcsIG5leHRTdGF0ZS5iYWxsb3RFbGVjdGlvbkxpc3RDb3VudCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuZGVzdGluYXRpb25VcmxGb3JIaXN0b3J5UHVzaCAhPT0gbmV4dFN0YXRlLmRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLmRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gnLCB0aGlzLnN0YXRlLmRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gsICcsIG5leHRTdGF0ZS5kZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoJywgbmV4dFN0YXRlLmRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLmxvYWRpbmdOZXdCYWxsb3RJdGVtcyAhPT0gbmV4dFN0YXRlLmxvYWRpbmdOZXdCYWxsb3RJdGVtcykge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuc3RhdGUubG9hZGluZ05ld0JhbGxvdEl0ZW1zJywgdGhpcy5zdGF0ZS5sb2FkaW5nTmV3QmFsbG90SXRlbXMsICcsIG5leHRTdGF0ZS5sb2FkaW5nTmV3QmFsbG90SXRlbXMnLCBuZXh0U3RhdGUubG9hZGluZ05ld0JhbGxvdEl0ZW1zKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5wcmlvckVsZWN0aW9uSWQgIT09IG5leHRTdGF0ZS5wcmlvckVsZWN0aW9uSWQpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLnByaW9yRWxlY3Rpb25JZCcsIHRoaXMuc3RhdGUucHJpb3JFbGVjdGlvbklkLCAnLCBuZXh0U3RhdGUucHJpb3JFbGVjdGlvbklkJywgbmV4dFN0YXRlLnByaW9yRWxlY3Rpb25JZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUucHJpb3JFbGVjdGlvbkxpc3RPcGVuICE9PSBuZXh0U3RhdGUucHJpb3JFbGVjdGlvbkxpc3RPcGVuKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5zdGF0ZS5wcmlvckVsZWN0aW9uTGlzdE9wZW4nLCB0aGlzLnN0YXRlLnByaW9yRWxlY3Rpb25MaXN0T3BlbiwgJywgbmV4dFN0YXRlLnByaW9yRWxlY3Rpb25MaXN0T3BlbicsIG5leHRTdGF0ZS5wcmlvckVsZWN0aW9uTGlzdE9wZW4pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnVwZGF0ZWRFbGVjdGlvbklkICE9PSBuZXh0U3RhdGUudXBkYXRlZEVsZWN0aW9uSWQpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLnVwZGF0ZWRFbGVjdGlvbklkJywgdGhpcy5zdGF0ZS51cGRhdGVkRWxlY3Rpb25JZCwgJywgbmV4dFN0YXRlLnVwZGF0ZWRFbGVjdGlvbklkJywgbmV4dFN0YXRlLnVwZGF0ZWRFbGVjdGlvbklkKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8gUHJvcHMgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBpZiAodGhpcy5wcm9wcy5iYWxsb3RCYXNlVXJsICE9PSBuZXh0UHJvcHMuYmFsbG90QmFzZVVybCkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMucHJvcHMuYmFsbG90QmFzZVVybCcsIHRoaXMucHJvcHMuYmFsbG90QmFzZVVybCwgJywgbmV4dFByb3BzLmJhbGxvdEJhc2VVcmwnLCBuZXh0UHJvcHMuYmFsbG90QmFzZVVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub3JnYW5pemF0aW9uV2VWb3RlSWQgIT09IG5leHRQcm9wcy5vcmdhbml6YXRpb25XZVZvdGVJZCkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMucHJvcHMub3JnYW5pemF0aW9uV2VWb3RlSWQnLCB0aGlzLnByb3BzLm9yZ2FuaXphdGlvbldlVm90ZUlkLCAnLCBuZXh0UHJvcHMub3JnYW5pemF0aW9uV2VWb3RlSWQnLCBuZXh0UHJvcHMub3JnYW5pemF0aW9uV2VWb3RlSWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCdzaG91bGRDb21wb25lbnRVcGRhdGUgZmFsc2UnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgdGhpcy5iYWxsb3RTdG9yZUxpc3RlbmVyLnJlbW92ZSgpO1xuICAgIHRoaXMudm90ZXJTdG9yZUxpc3RlbmVyLnJlbW92ZSgpO1xuICAgIHRoaXMudm90ZXJHdWlkZVN0b3JlTGlzdGVuZXIucmVtb3ZlKCk7XG4gIH1cblxuICBvbkJhbGxvdFN0b3JlQ2hhbmdlICgpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnQmFsbG90RWxlY3Rpb25MaXN0V2l0aEZpbHRlcnMuanN4IG9uQmFsbG90U3RvcmVDaGFuZ2UsIHByaW9yRWxlY3Rpb25JZDogJywgdGhpcy5zdGF0ZS5wcmlvckVsZWN0aW9uSWQsICcsIHVwZGF0ZWRFbGVjdGlvbklkOiAnLCB0aGlzLnN0YXRlLnVwZGF0ZWRFbGVjdGlvbklkKTtcbiAgICAvLyBjb25zb2xlLmxvZygnQmFsbG90U3RvcmUuYmFsbG90UHJvcGVydGllczogJywgQmFsbG90U3RvcmUuYmFsbG90UHJvcGVydGllcyk7XG4gICAgaWYgKEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMgJiYgQmFsbG90U3RvcmUuYmFsbG90UHJvcGVydGllcy5iYWxsb3RfZm91bmQgJiYgQmFsbG90U3RvcmUuYmFsbG90ICYmIEJhbGxvdFN0b3JlLmJhbGxvdC5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIEJhbGxvdCBpcyBmb3VuZCBidXQgYmFsbG90IGlzIGVtcHR5LiBXZSB3YW50IHRvIHN0YXkgcHV0LlxuICAgICAgLy8gY29uc29sZS5sb2coJ29uQmFsbG90U3RvcmVDaGFuZ2U6IGJhbGxvdF93aXRoX2FsbF9pdGVtcyBpcyBlbXB0eScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5wcmlvckVsZWN0aW9uSWQgIT09IHRoaXMuc3RhdGUudXBkYXRlZEVsZWN0aW9uSWQgJiYgdGhpcy5zdGF0ZS5sb2FkaW5nTmV3QmFsbG90SXRlbXMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdvbkJhbGxvdFN0b3JlQ2hhbmdlLS0tLS0tLS0tIGxvYWRpbmdOZXdCYWxsb3RJdGVtczonLCB0aGlzLnN0YXRlLmxvYWRpbmdOZXdCYWxsb3RJdGVtcyk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbG9hZGluZ05ld0JhbGxvdEl0ZW1zOiBmYWxzZSxcbiAgICAgICAgdXBkYXRlZEVsZWN0aW9uSWQ6IEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkLFxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnb25CYWxsb3RTdG9yZUNoYW5nZS0tLS0tLS0tLSB0aGlzLnByb3BzLnRvZ2dsZUZ1bmN0aW9uKCknKTtcbiAgICAgIHRoaXMuaW5jb21pbmdUb2dnbGVGdW5jdGlvbih0aGlzLnN0YXRlLmRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gpO1xuICAgIH1cbiAgICBjb25zdCBiYWxsb3RFbGVjdGlvbkxpc3QgPSBCYWxsb3RTdG9yZS5iYWxsb3RFbGVjdGlvbkxpc3QoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGJhbGxvdEVsZWN0aW9uTGlzdCxcbiAgICAgIGJhbGxvdEVsZWN0aW9uTGlzdENvdW50OiBiYWxsb3RFbGVjdGlvbkxpc3QubGVuZ3RoLFxuICAgIH0pO1xuICB9XG5cbiAgb25Wb3Rlckd1aWRlU3RvcmVDaGFuZ2UgKCkge1xuICAgIGNvbnN0IHZvdGVyID0gVm90ZXJTdG9yZS5nZXRWb3RlcigpO1xuICAgIGNvbnN0IHZvdGVyR3VpZGVTYXZlUmVzdWx0cyA9IFZvdGVyR3VpZGVTdG9yZS5nZXRWb3Rlckd1aWRlU2F2ZVJlc3VsdHMoKTtcbiAgICBpZiAodm90ZXJHdWlkZVNhdmVSZXN1bHRzICYmIHZvdGVyICYmIHZvdGVyR3VpZGVTYXZlUmVzdWx0cy5vcmdhbml6YXRpb25fd2Vfdm90ZV9pZCA9PT0gdm90ZXIubGlua2VkX29yZ2FuaXphdGlvbl93ZV92b3RlX2lkKSB7XG4gICAgICB0aGlzLmdvVG9Wb3Rlckd1aWRlRm9yRGlmZmVyZW50RWxlY3Rpb24odm90ZXJHdWlkZVNhdmVSZXN1bHRzLndlX3ZvdGVfaWQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVm90ZXJTdG9yZUNoYW5nZSAoKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ0JhbGxvdEVsZWN0aW9uTGlzdFdpdGhGaWx0ZXJzLmpzeCBvblZvdGVyU3RvcmVDaGFuZ2UsIFZvdGVyU3RvcmUuZWxlY3Rpb25JZCgpOiAnLCBWb3RlclN0b3JlLmVsZWN0aW9uSWQoKSwgJywgcHJpb3JFbGVjdGlvbklkOiAnLCB0aGlzLnN0YXRlLnByaW9yRWxlY3Rpb25JZCwgJywgdXBkYXRlZEVsZWN0aW9uSWQ6ICcsIHRoaXMuc3RhdGUudXBkYXRlZEVsZWN0aW9uSWQpO1xuICAgIC8vIGlmIChCYWxsb3RTdG9yZS5iYWxsb3RQcm9wZXJ0aWVzICYmIEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMuYmFsbG90X2ZvdW5kICYmIEJhbGxvdFN0b3JlLmJhbGxvdCAmJiBCYWxsb3RTdG9yZS5iYWxsb3QubGVuZ3RoICE9PSAwKSB7XG4gICAgaWYgKFZvdGVyU3RvcmUuZWxlY3Rpb25JZCgpICYmIFZvdGVyU3RvcmUuZWxlY3Rpb25JZCgpICE9PSB0aGlzLnN0YXRlLnByaW9yRWxlY3Rpb25JZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUubG9hZGluZ05ld0JhbGxvdEl0ZW1zKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdvblZvdGVyU3RvcmVDaGFuZ2UtLS0tLS0tLS0gbG9hZGluZ05ld0JhbGxvdEl0ZW1zOicsIHRoaXMuc3RhdGUubG9hZGluZ05ld0JhbGxvdEl0ZW1zKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZ05ld0JhbGxvdEl0ZW1zOiBmYWxzZSxcbiAgICAgICAgICB1cGRhdGVkRWxlY3Rpb25JZDogVm90ZXJTdG9yZS5lbGVjdGlvbklkKCksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnb25Wb3RlclN0b3JlQ2hhbmdlLS0tLS0tLS0tIHRoaXMucHJvcHMudG9nZ2xlRnVuY3Rpb24oKScpO1xuICAgICAgICB0aGlzLmluY29taW5nVG9nZ2xlRnVuY3Rpb24odGhpcy5zdGF0ZS5kZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbmNvbWluZ1RvZ2dsZUZ1bmN0aW9uID0gKGRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50b2dnbGVGdW5jdGlvbikge1xuICAgICAgdGhpcy5wcm9wcy50b2dnbGVGdW5jdGlvbihkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoKTtcbiAgICB9XG4gIH1cblxuICBzYXZlVm90ZXJHdWlkZUZvckVsZWN0aW9uID0gKGdvb2dsZUNpdmljRWxlY3Rpb25JZCkgPT4ge1xuICAgIEJhbGxvdEFjdGlvbnMudm90ZXJCYWxsb3RJdGVtc1JldHJpZXZlKGdvb2dsZUNpdmljRWxlY3Rpb25JZCwgJycsICcnKTtcbiAgICBWb3Rlckd1aWRlQWN0aW9ucy52b3Rlckd1aWRlU2F2ZShnb29nbGVDaXZpY0VsZWN0aW9uSWQsICcnKTtcbiAgICAvLyBXaGVuIHRoZSByZXN1bHQgY29tZXMgYmFjayBmcm9tIHZvdGVyR3VpZGVTYXZlLCBvblZvdGVyR3VpZGVTdG9yZUNoYW5nZSB0cmlnZ2VycyBhIGNhbGwgdG8gZ29Ub1ZvdGVyR3VpZGVGb3JEaWZmZXJlbnRFbGVjdGlvblxuICB9XG5cbiAgZ29Ub1ZvdGVyR3VpZGVGb3JEaWZmZXJlbnRFbGVjdGlvbiA9ICh2b3Rlckd1aWRlV2VWb3RlSWQpID0+IHtcbiAgICBjb25zdCB2b3Rlckd1aWRlQmFsbG90SXRlbXMgPSBgL3ZnLyR7dm90ZXJHdWlkZVdlVm90ZUlkfS9zZXR0aW5ncy9wb3NpdGlvbnNgO1xuICAgIGhpc3RvcnlQdXNoKHZvdGVyR3VpZGVCYWxsb3RJdGVtcyk7XG4gICAgaWYgKHRoaXMucHJvcHMudG9nZ2xlRnVuY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMudG9nZ2xlRnVuY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICBnb1RvQmFsbG90Rm9yRGlmZmVyZW50RWxlY3Rpb24gKGJhbGxvdExvY2F0aW9uU2hvcnRjdXQsIGJhbGxvdFJldHVybmVkV2VWb3RlSWQsIGdvb2dsZUNpdmljRWxlY3Rpb25JZCwgb3JpZ2luYWxUZXh0Rm9yTWFwU2VhcmNoID0gJycpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnQmFsbG90RWxlY3Rpb25MaXN0V2l0aEZpbHRlcnMsIGdvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbicpO1xuICAgIGNvbnN0IGJhbGxvdEJhc2VVcmxDbGVhbiA9IHRoaXMucHJvcHMuYmFsbG90QmFzZVVybCB8fCAnL2JhbGxvdCc7XG4gICAgY29uc3QgeyBvcmdhbml6YXRpb25XZVZvdGVJZCB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgZGVzdGluYXRpb25VcmxGb3JIaXN0b3J5UHVzaCA9ICcnO1xuICAgIGlmIChiYWxsb3RMb2NhdGlvblNob3J0Y3V0ICYmIGJhbGxvdExvY2F0aW9uU2hvcnRjdXQgIT09ICcnICYmIGJhbGxvdExvY2F0aW9uU2hvcnRjdXQgIT09ICdub25lJykge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2dvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbiwgYmFsbG90TG9jYXRpb25TaG9ydGN1dDogJywgYmFsbG90TG9jYXRpb25TaG9ydGN1dCk7XG4gICAgICBCYWxsb3RBY3Rpb25zLnZvdGVyQmFsbG90SXRlbXNSZXRyaWV2ZSgwLCAnJywgYmFsbG90TG9jYXRpb25TaG9ydGN1dCk7XG4gICAgICBkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoID0gYCR7YmFsbG90QmFzZVVybENsZWFufS8ke2JhbGxvdExvY2F0aW9uU2hvcnRjdXR9YDsgLy8gVXNlZCB3aXRoIGhpc3RvcnlQdXNoIG9uY2UgbW9kYWwgaXMgY2xvc2VkXG4gICAgfSBlbHNlIGlmIChiYWxsb3RSZXR1cm5lZFdlVm90ZUlkICYmIGJhbGxvdFJldHVybmVkV2VWb3RlSWQgIT09ICcnICYmIGJhbGxvdFJldHVybmVkV2VWb3RlSWQgIT09ICdub25lJykge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2dvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbiwgYmFsbG90UmV0dXJuZWRXZVZvdGVJZDogJywgYmFsbG90UmV0dXJuZWRXZVZvdGVJZCk7XG4gICAgICBCYWxsb3RBY3Rpb25zLnZvdGVyQmFsbG90SXRlbXNSZXRyaWV2ZSgwLCBiYWxsb3RSZXR1cm5lZFdlVm90ZUlkLCAnJyk7XG4gICAgICBkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoID0gYCR7YmFsbG90QmFzZVVybENsZWFufS9pZC8ke2JhbGxvdFJldHVybmVkV2VWb3RlSWR9YDsgLy8gVXNlZCB3aXRoIGhpc3RvcnlQdXNoIG9uY2UgbW9kYWwgaXMgY2xvc2VkXG4gICAgfSBlbHNlIGlmIChvcmlnaW5hbFRleHRGb3JNYXBTZWFyY2ggJiYgb3JpZ2luYWxUZXh0Rm9yTWFwU2VhcmNoICE9PSAnJykge1xuICAgICAgLy8gRG8gd2Ugc3RpbGwgd2FudCB0byBiZSB1cGRhdGluZyBhZGRyZXNzZXM/IE1heWJlIGluc3RlYWQganVzdCB1cGRhdGUgZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkP1xuICAgICAgLy8gY29uc29sZS5sb2coJ2dvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbiwgb3JpZ2luYWxUZXh0Rm9yTWFwU2VhcmNoOiAnLCBvcmlnaW5hbFRleHRGb3JNYXBTZWFyY2gpO1xuICAgICAgY29uc3Qgc2ltcGxlU2F2ZSA9IGZhbHNlO1xuICAgICAgVm90ZXJBY3Rpb25zLnZvdGVyQWRkcmVzc1NhdmUob3JpZ2luYWxUZXh0Rm9yTWFwU2VhcmNoLCBzaW1wbGVTYXZlLCBnb29nbGVDaXZpY0VsZWN0aW9uSWQpO1xuICAgICAgZGVzdGluYXRpb25VcmxGb3JIaXN0b3J5UHVzaCA9IGJhbGxvdEJhc2VVcmxDbGVhbjsgLy8gVXNlZCB3aXRoIGhpc3RvcnlQdXNoIG9uY2UgbW9kYWwgaXMgY2xvc2VkXG4gICAgfSBlbHNlIGlmIChnb29nbGVDaXZpY0VsZWN0aW9uSWQgJiYgZ29vZ2xlQ2l2aWNFbGVjdGlvbklkICE9PSAwKSB7XG4gICAgICBCYWxsb3RBY3Rpb25zLnZvdGVyQmFsbG90SXRlbXNSZXRyaWV2ZShnb29nbGVDaXZpY0VsZWN0aW9uSWQsICcnLCAnJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZ29Ub0JhbGxvdEZvckRpZmZlcmVudEVsZWN0aW9uLCBnb29nbGVDaXZpY0VsZWN0aW9uSWQ6ICcsIGdvb2dsZUNpdmljRWxlY3Rpb25JZCk7XG4gICAgICBkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoID0gYCR7YmFsbG90QmFzZVVybENsZWFufS9lbGVjdGlvbi8ke2dvb2dsZUNpdmljRWxlY3Rpb25JZH1gOyAvLyBVc2VkIHdpdGggaGlzdG9yeVB1c2ggb25jZSBtb2RhbCBpcyBjbG9zZWRcbiAgICB9XG5cbiAgICAvLyBSZXF1ZXN0IHBvc2l0aW9ucyBmb3IgdGhlIGRpZmZlcmVudCBlbGVjdGlvblxuICAgIGlmIChvcmdhbml6YXRpb25XZVZvdGVJZCAmJiBvcmdhbml6YXRpb25XZVZvdGVJZCAhPT0gJycpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdCYWxsb3RFbGVjdGlvbkxpc3RXaXRoRmlsdGVycyBjYWxsaW5nIHBvc2l0aW9uTGlzdEZvck9waW5pb25NYWtlciwgdGhpcy5wcm9wcy5vcmdhbml6YXRpb25XZVZvdGVJZDogJywgdGhpcy5wcm9wcy5vcmdhbml6YXRpb25XZVZvdGVJZCwgJywgZ29vZ2xlQ2l2aWNFbGVjdGlvbklkOicsIGdvb2dsZUNpdmljRWxlY3Rpb25JZCk7XG4gICAgICAvLyBpZiAoIU9yZ2FuaXphdGlvblN0b3JlLnBvc2l0aW9uTGlzdEZvck9waW5pb25NYWtlckhhc0JlZW5SZXRyaWV2ZWRPbmNlKGdvb2dsZUNpdmljRWxlY3Rpb25JZCwgb3JnYW5pemF0aW9uV2VWb3RlSWQpKSB7XG4gICAgICBPcmdhbml6YXRpb25BY3Rpb25zLnBvc2l0aW9uTGlzdEZvck9waW5pb25NYWtlcihvcmdhbml6YXRpb25XZVZvdGVJZCwgdHJ1ZSwgZmFsc2UsIGdvb2dsZUNpdmljRWxlY3Rpb25JZCk7XG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMudG9nZ2xlRnVuY3Rpb24pIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdnb1RvQmFsbG90Rm9yRGlmZmVyZW50RWxlY3Rpb24sIGxvYWRpbmdOZXdCYWxsb3RJdGVtczogJywgdGhpcy5zdGF0ZS5sb2FkaW5nTmV3QmFsbG90SXRlbXMpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ2dvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbiwgcHJpb3JFbGVjdGlvbklkOiAnLCB0aGlzLnN0YXRlLnByaW9yRWxlY3Rpb25JZCwgJywgdXBkYXRlZEVsZWN0aW9uSWQ6ICcsIHRoaXMuc3RhdGUudXBkYXRlZEVsZWN0aW9uSWQsICcsIGRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2g6ICcsIGRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gsICcsIEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkOiAnLCBCYWxsb3RTdG9yZS5iYWxsb3RQcm9wZXJ0aWVzLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCwgJywgVm90ZXJTdG9yZS5lbGVjdGlvbklkKCk6JywgVm90ZXJTdG9yZS5lbGVjdGlvbklkKCkpO1xuICAgICAgbGV0IGJhbGxvdFByb3BlcnRpZXNHb29nbGVDaXZpY0VsZWN0aW9uSWQgPSAwO1xuICAgICAgaWYgKEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMpIHtcbiAgICAgICAgYmFsbG90UHJvcGVydGllc0dvb2dsZUNpdmljRWxlY3Rpb25JZCA9IEJhbGxvdFN0b3JlLmJhbGxvdFByb3BlcnRpZXMuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gsXG4gICAgICAgIGxvYWRpbmdOZXdCYWxsb3RJdGVtczogdHJ1ZSxcbiAgICAgICAgcHJpb3JFbGVjdGlvbklkOiBiYWxsb3RQcm9wZXJ0aWVzR29vZ2xlQ2l2aWNFbGVjdGlvbklkIHx8IFZvdGVyU3RvcmUuZWxlY3Rpb25JZCgpIHx8IDAsXG4gICAgICAgIHVwZGF0ZWRFbGVjdGlvbklkOiAwLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoOiAnLCBkZXN0aW5hdGlvblVybEZvckhpc3RvcnlQdXNoKTtcbiAgICAgIGhpc3RvcnlQdXNoKGRlc3RpbmF0aW9uVXJsRm9ySGlzdG9yeVB1c2gpO1xuICAgIH1cbiAgfVxuXG4gIGV4ZWN1dGVEaWZmZXJlbnRFbGVjdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCB7IGJhbGxvdEJhc2VVcmwgfSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAoYmFsbG90QmFzZVVybCkge1xuICAgICAgICB0aGlzLmdvVG9CYWxsb3RGb3JEaWZmZXJlbnRFbGVjdGlvbihpdGVtLmJhbGxvdF9sb2NhdGlvbl9zaG9ydGN1dCwgaXRlbS5iYWxsb3RfcmV0dXJuZWRfd2Vfdm90ZV9pZCwgaXRlbS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQsIGl0ZW0ub3JpZ2luYWxfdGV4dF9mb3JfbWFwX3NlYXJjaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNhdmVWb3Rlckd1aWRlRm9yRWxlY3Rpb24oaXRlbS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVByaW9yRWxlY3Rpb25MaXN0ICgpIHtcbiAgICBjb25zdCB7IHByaW9yRWxlY3Rpb25MaXN0T3BlbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByaW9yRWxlY3Rpb25MaXN0T3BlbjogIXByaW9yRWxlY3Rpb25MaXN0T3BlbixcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclVwY29taW5nRWxlY3Rpb25MaXN0IChsaXN0LCBjdXJyZW50RGF0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmVkTGlzdCA9IGxpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnaXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0OiAnLCBpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHQsICdpdGVtLmVsZWN0aW9uX2RheV90ZXh0OiAnLCBpdGVtLmVsZWN0aW9uX2RheV90ZXh0KTtcbiAgICAgIGlmICghaXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0IHx8IGl0ZW0uZWxlY3Rpb25fZGVzY3JpcHRpb25fdGV4dCA9PT0gJycpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgZWxlY3Rpb25EYXRlVG9tb3Jyb3dNb21lbnQgPSBtb21lbnQoaXRlbS5lbGVjdGlvbl9kYXlfdGV4dCwgJ1lZWVktTU0tREQnKS5hZGQoMSwgJ2RheXMnKTtcbiAgICAgIGNvbnN0IGVsZWN0aW9uRGF0ZVRvbW9ycm93ID0gZWxlY3Rpb25EYXRlVG9tb3Jyb3dNb21lbnQuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICByZXR1cm4gZWxlY3Rpb25EYXRlVG9tb3Jyb3cgPiBjdXJyZW50RGF0ZSA/IChcbiAgICAgICAgPGRpdiBrZXk9e2B1cGNvbWluZy1lbGVjdGlvbi0ke2l0ZW0uZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkfWB9PlxuICAgICAgICAgIDxkbCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICBocmVmPVwiXCJcbiAgICAgICAgICAgICAgaWQ9e2BiYWxsb3RFbGVjdGlvbkxpc3RXaXRoRmlsdGVyc0J1dHRvbi0ke2l0ZW0uZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkfWB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuZXhlY3V0ZURpZmZlcmVudEVsZWN0aW9uKGl0ZW0pfVxuICAgICAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJ1dHRvbkNvbnRlbnRzV3JhcHBlcj5cbiAgICAgICAgICAgICAgICA8RWxlY3Rpb25OYW1lPlxuICAgICAgICAgICAgICAgICAgey8qIE1vYmlsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtYmxvY2sgZC1zbS1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgaXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0Lmxlbmd0aCA8IE1BWElNVU1fTlVNQkVSX09GX0NIQVJBQ1RFUlNfVE9fU0hPVyA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0LnN1YnN0cmluZygwLCBNQVhJTVVNX05VTUJFUl9PRl9DSEFSQUNURVJTX1RPX1NIT1cgLSAzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLiZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHsvKiBEZXNrdG9wICovfVxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZC1ub25lIGQtc20tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgeyBpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHQubGVuZ3RoIDwgTUFYSU1VTV9OVU1CRVJfT0ZfQ0hBUkFDVEVSU19UT19TSE9XX0RFU0tUT1AgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0fVxuICAgICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZWxlY3Rpb25fZGVzY3JpcHRpb25fdGV4dC5zdWJzdHJpbmcoMCwgTUFYSU1VTV9OVU1CRVJfT0ZfQ0hBUkFDVEVSU19UT19TSE9XX0RFU0tUT1AgLSAzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLiZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L0VsZWN0aW9uTmFtZT5cbiAgICAgICAgICAgICAgICA8RWxlY3Rpb25EYXRlPlxuICAgICAgICAgICAgICAgICAge21vbWVudChpdGVtLmVsZWN0aW9uX2RheV90ZXh0KS5mb3JtYXQoJ01NTSBEbywgWVlZWScpfVxuICAgICAgICAgICAgICAgIDwvRWxlY3Rpb25EYXRlPlxuICAgICAgICAgICAgICA8L0J1dHRvbkNvbnRlbnRzV3JhcHBlcj5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6XG4gICAgICAgIG51bGw7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsZWFuQXJyYXkocmVuZGVyZWRMaXN0KTtcbiAgfVxuXG4gIHJlbmRlclByaW9yRWxlY3Rpb25MaXN0IChsaXN0LCBjdXJyZW50RGF0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmVkTGlzdCA9IGxpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBlbGVjdGlvbkRhdGVUb21vcnJvd01vbWVudCA9IG1vbWVudChpdGVtLmVsZWN0aW9uX2RheV90ZXh0LCAnWVlZWS1NTS1ERCcpLmFkZCgxLCAnZGF5cycpO1xuICAgICAgY29uc3QgZWxlY3Rpb25EYXRlVG9tb3Jyb3cgPSBlbGVjdGlvbkRhdGVUb21vcnJvd01vbWVudC5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgIHJldHVybiBlbGVjdGlvbkRhdGVUb21vcnJvdyA+IGN1cnJlbnREYXRlID9cbiAgICAgICAgbnVsbCA6IChcbiAgICAgICAgICA8ZGl2IGtleT17YHByaW9yLWVsZWN0aW9uLSR7aXRlbS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWR9YH0+XG4gICAgICAgICAgICA8ZGwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBwcmlvci1lbGVjdGlvbi1saXN0XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgIGhyZWY9XCJcIlxuICAgICAgICAgICAgICAgIGlkPXtgYmFsbG90RWxlY3Rpb25MaXN0V2l0aEZpbHRlcnNCdXR0b24tJHtpdGVtLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZH1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuZXhlY3V0ZURpZmZlcmVudEVsZWN0aW9uKGl0ZW0pfVxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbkNvbnRlbnRzV3JhcHBlcj5cbiAgICAgICAgICAgICAgICAgIDxFbGVjdGlvbk5hbWU+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBNb2JpbGUgKi99XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtYmxvY2sgZC1zbS1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHQubGVuZ3RoIDwgTUFYSU1VTV9OVU1CRVJfT0ZfQ0hBUkFDVEVSU19UT19TSE9XID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZWxlY3Rpb25fZGVzY3JpcHRpb25fdGV4dC5zdWJzdHJpbmcoMCwgTUFYSU1VTV9OVU1CRVJfT0ZfQ0hBUkFDVEVSU19UT19TSE9XIC0gMyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLiZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgey8qIERlc2t0b3AgKi99XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtbm9uZSBkLXNtLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgeyBpdGVtLmVsZWN0aW9uX2Rlc2NyaXB0aW9uX3RleHQubGVuZ3RoIDwgTUFYSU1VTV9OVU1CRVJfT0ZfQ0hBUkFDVEVSU19UT19TSE9XX0RFU0tUT1AgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZWxlY3Rpb25fZGVzY3JpcHRpb25fdGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5lbGVjdGlvbl9kZXNjcmlwdGlvbl90ZXh0LnN1YnN0cmluZygwLCBNQVhJTVVNX05VTUJFUl9PRl9DSEFSQUNURVJTX1RPX1NIT1dfREVTS1RPUCAtIDMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4mbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0VsZWN0aW9uTmFtZT5cbiAgICAgICAgICAgICAgICAgIDxFbGVjdGlvbkRhdGU+XG4gICAgICAgICAgICAgICAgICAgIHttb21lbnQoaXRlbS5lbGVjdGlvbl9kYXlfdGV4dCkuZm9ybWF0KCdNTU0gRG8sIFlZWVknKX1cbiAgICAgICAgICAgICAgICAgIDwvRWxlY3Rpb25EYXRlPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uQ29udGVudHNXcmFwcGVyPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsZWFuQXJyYXkocmVuZGVyZWRMaXN0KTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmVuZGVyTG9nKCdCYWxsb3RFbGVjdGlvbkxpc3RXaXRoRmlsdGVycycpOyAgLy8gU2V0IExPR19SRU5ERVJfRVZFTlRTIHRvIGxvZyBhbGwgcmVuZGVyc1xuICAgIGlmICh0aGlzLnN0YXRlLmxvYWRpbmdOZXdCYWxsb3RJdGVtcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiaDFcIj5Td2l0Y2hpbmcgYmFsbG90IGRhdGEgbm93Li4uPC9oMT5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICB7TG9hZGluZ1doZWVsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgY29uc3QgeyBoaWRlVXBjb21pbmdFbGVjdGlvblRpdGxlLCBzaG93UHJpb3JFbGVjdGlvbnNMaXN0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgcHJpb3JFbGVjdGlvbkxpc3RPcGVuIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgYmFsbG90RWxlY3Rpb25MaXN0VXBjb21pbmdTb3J0ZWQgPSB0aGlzLnN0YXRlLmJhbGxvdEVsZWN0aW9uTGlzdC5jb25jYXQoKTtcbiAgICAvLyBXZSB3YW50IHRvIHNvcnQgYXNjZW5kaW5nIHNvIHRoZSBuZXh0IHVwY29taW5nIGVsZWN0aW9uIGlzIGZpcnN0XG4gICAgYmFsbG90RWxlY3Rpb25MaXN0VXBjb21pbmdTb3J0ZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgZWxlY3Rpb25EYXlUZXh0QSA9IGEuZWxlY3Rpb25fZGF5X3RleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IGVsZWN0aW9uRGF5VGV4dEIgPSBiLmVsZWN0aW9uX2RheV90ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoZWxlY3Rpb25EYXlUZXh0QSA8IGVsZWN0aW9uRGF5VGV4dEIpIHsgLy8gc29ydCBzdHJpbmcgYXNjZW5kaW5nXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVjdGlvbkRheVRleHRBID4gZWxlY3Rpb25EYXlUZXh0QikgcmV0dXJuIDE7XG4gICAgICByZXR1cm4gMDsgLy8gZGVmYXVsdCByZXR1cm4gdmFsdWUgKG5vIHNvcnRpbmcpXG4gICAgfSk7XG4gICAgY29uc3QgdXBjb21pbmdFbGVjdGlvbkxpc3QgPSB0aGlzLnJlbmRlclVwY29taW5nRWxlY3Rpb25MaXN0KGJhbGxvdEVsZWN0aW9uTGlzdFVwY29taW5nU29ydGVkLCBjdXJyZW50RGF0ZSk7XG5cbiAgICBsZXQgcHJpb3JFbGVjdGlvbkxpc3QgPSBbXTtcbiAgICBpZiAoc2hvd1ByaW9yRWxlY3Rpb25zTGlzdCAmJiBwcmlvckVsZWN0aW9uTGlzdE9wZW4pIHtcbiAgICAgIGNvbnN0IGJhbGxvdEVsZWN0aW9uTGlzdFBhc3RTb3J0ZWQgPSB0aGlzLnN0YXRlLmJhbGxvdEVsZWN0aW9uTGlzdC5jb25jYXQoKTtcbiAgICAgIC8vIFdlIHdhbnQgdG8gc29ydCBkZXNjZW5kaW5nIHNvIHRoZSBtb3N0IHJlY2VudCBlbGVjdGlvbiBpcyBmaXJzdFxuICAgICAgYmFsbG90RWxlY3Rpb25MaXN0UGFzdFNvcnRlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZWN0aW9uRGF5VGV4dEEgPSBhLmVsZWN0aW9uX2RheV90ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGVsZWN0aW9uRGF5VGV4dEIgPSBiLmVsZWN0aW9uX2RheV90ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChlbGVjdGlvbkRheVRleHRBIDwgZWxlY3Rpb25EYXlUZXh0QikgeyAvLyBzb3J0IHN0cmluZyBkZXNjZW5kaW5nXG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZWN0aW9uRGF5VGV4dEEgPiBlbGVjdGlvbkRheVRleHRCKSByZXR1cm4gLTE7XG4gICAgICAgIHJldHVybiAwOyAvLyBkZWZhdWx0IHJldHVybiB2YWx1ZSAobm8gc29ydGluZylcbiAgICAgIH0pO1xuICAgICAgcHJpb3JFbGVjdGlvbkxpc3QgPSB0aGlzLnJlbmRlclByaW9yRWxlY3Rpb25MaXN0KGJhbGxvdEVsZWN0aW9uTGlzdFBhc3RTb3J0ZWQsIGN1cnJlbnREYXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWxsb3QtZWxlY3Rpb24tbGlzdF9fbGlzdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhbGxvdC1lbGVjdGlvbi1saXN0X191cGNvbWluZ1wiPlxuICAgICAgICAgIHshaGlkZVVwY29taW5nRWxlY3Rpb25UaXRsZSAmJiAoXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiaDRcIj5cbiAgICAgICAgICAgICAgVXBjb21pbmcgRWxlY3Rpb25cbiAgICAgICAgICAgICAgeyh1cGNvbWluZ0VsZWN0aW9uTGlzdCAmJiB1cGNvbWluZ0VsZWN0aW9uTGlzdC5sZW5ndGggIT09IDEpID8gJ3MnIDogbnVsbCB9XG4gICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICl9XG4gICAgICAgICAgeyB1cGNvbWluZ0VsZWN0aW9uTGlzdCAmJiB1cGNvbWluZ0VsZWN0aW9uTGlzdC5sZW5ndGggP1xuICAgICAgICAgICAgdXBjb21pbmdFbGVjdGlvbkxpc3QgOlxuICAgICAgICAgICAgJ1RoZXJlIGFyZSBubyB1cGNvbWluZyBlbGVjdGlvbnMgYXQgdGhpcyB0aW1lLidcbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7IHNob3dQcmlvckVsZWN0aW9uc0xpc3QgJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7cHJpb3JFbGVjdGlvbkxpc3RPcGVuID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhbGxvdC1lbGVjdGlvbi1saXN0X19wcmlvclwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJoNFwiPlxuICAgICAgICAgICAgICAgICAgUHJpb3IgRWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgIHsocHJpb3JFbGVjdGlvbkxpc3QgJiYgcHJpb3JFbGVjdGlvbkxpc3QubGVuZ3RoICE9PSAxKSA/ICdzJyA6IG51bGwgfVxuICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAge3ByaW9yRWxlY3Rpb25MaXN0fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxTaG93UHJpb3JFbGVjdGlvbnNXcmFwcGVyPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICAgIGhyZWY9XCJcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJiYWxsb3RFbGVjdGlvbkxpc3RXaXRoRmlsdGVyc1Nob3dQcmlvckVsZWN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZVByaW9yRWxlY3Rpb25MaXN0KCl9XG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZWRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNob3cgUHJpb3IgRWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvU2hvd1ByaW9yRWxlY3Rpb25zV3JhcHBlcj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IEJ1dHRvbkNvbnRlbnRzV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHdpZHRoOiAxMDAlO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuYDtcblxuY29uc3QgRWxlY3Rpb25OYW1lID0gc3R5bGVkLmRpdmBcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuYDtcblxuY29uc3QgRWxlY3Rpb25EYXRlID0gc3R5bGVkLmRpdmBcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZm9udC13ZWlnaHQ6IDEwMDtcbiAgQG1lZGlhIChtaW4td2lkdGg6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYnJlYWtwb2ludHMubWR9KSB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG5gO1xuXG5jb25zdCBTaG93UHJpb3JFbGVjdGlvbnNXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbmA7XG4iXX0=*/