.e6pz1k0{padding:1em 2em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.evt83if{font-size:16px;text-align:center;margin:1em 2em;}@media (max-width:var(--evt83if-0)){.evt83if{margin:1em;}}
.plck4cg{text-align:right;margin:20px 0;}
.l1izgs9b{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
.s1ksih2l{font-size:18px;text-align:right;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}@media (max-width:var(--s1ksih2l-0)){.s1ksih2l{padding-top:5px;padding-bottom:3px;}}@media print{.s1ksih2l{display:none;}}
.ci43g8r{padding:0;}
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxKYXJvZFxcV2VWb3RlXFxXZWJBcHBcXHNyY1xcanNcXGNvbXBvbmVudHNcXFNldHRpbmdzXFxWb3Rlckd1aWRlU2V0dGluZ3NBZGRQb3NpdGlvbnMuanN4Il0sIm5hbWVzIjpbIi5lNnB6MWswIiwiLmV2dDgzaWYiLCIucGxjazRjZyIsIi5sMWl6Z3M5YiIsIi5zMWtzaWgybCIsIi5jaTQzZzhyIl0sIm1hcHBpbmdzIjoiQUFpckJNQTtBQU9BQztBQVNBQztBQUtBQztBQU9BQztBQWFBQyIsImZpbGUiOiJEOlxcSmFyb2RcXFdlVm90ZVxcV2ViQXBwXFxzcmNcXGpzXFxjb21wb25lbnRzXFxTZXR0aW5nc1xcVm90ZXJHdWlkZVNldHRpbmdzQWRkUG9zaXRpb25zLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCBDaXJjdWxhclByb2dyZXNzIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NpcmN1bGFyUHJvZ3Jlc3MnO1xuaW1wb3J0IENhcmQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZCc7XG5pbXBvcnQgQmFsbG90SWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQmFsbG90JztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gJ2xpbmFyaWEvcmVhY3QnO1xuaW1wb3J0IEJhbGxvdEl0ZW1Gb3JBZGRQb3NpdGlvbnMgZnJvbSAnLi9CYWxsb3RJdGVtRm9yQWRkUG9zaXRpb25zJztcbmltcG9ydCBCYWxsb3RBY3Rpb25zIGZyb20gJy4uLy4uL2FjdGlvbnMvQmFsbG90QWN0aW9ucyc7XG5pbXBvcnQgQmFsbG90U3RvcmUgZnJvbSAnLi4vLi4vc3RvcmVzL0JhbGxvdFN0b3JlJztcbmltcG9ydCB7IHJlbmRlckxvZyB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcnO1xuaW1wb3J0IEZpbHRlckJhc2UgZnJvbSAnLi4vRmlsdGVyL0ZpbHRlckJhc2UnO1xuaW1wb3J0IFNldHRpbmdzQWRkQmFsbG90SXRlbXNGaWx0ZXIgZnJvbSAnLi4vRmlsdGVyL1NldHRpbmdzQWRkQmFsbG90SXRlbXNGaWx0ZXInO1xuaW1wb3J0IFNldHRpbmdzU2VlUG9zaXRpb25zRmlsdGVyIGZyb20gJy4uL0ZpbHRlci9TZXR0aW5nc1NlZVBvc2l0aW9uc0ZpbHRlcic7XG5pbXBvcnQgTG9hZGluZ1doZWVsIGZyb20gJy4uL0xvYWRpbmdXaGVlbCc7XG5pbXBvcnQgQXBwQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL0FwcEFjdGlvbnMnO1xuaW1wb3J0IE9yZ2FuaXphdGlvblN0b3JlIGZyb20gJy4uLy4uL3N0b3Jlcy9Pcmdhbml6YXRpb25TdG9yZSc7XG5pbXBvcnQgVm90ZXJTdG9yZSBmcm9tICcuLi8uLi9zdG9yZXMvVm90ZXJTdG9yZSc7XG5pbXBvcnQgT3JnYW5pemF0aW9uQWN0aW9ucyBmcm9tICcuLi8uLi9hY3Rpb25zL09yZ2FuaXphdGlvbkFjdGlvbnMnO1xuaW1wb3J0IFZvdGVyR3VpZGVTdG9yZSBmcm9tICcuLi8uLi9zdG9yZXMvVm90ZXJHdWlkZVN0b3JlJztcbmltcG9ydCB7IGhpc3RvcnlQdXNoIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29yZG92YVV0aWxzJztcbmltcG9ydCB7IGlzUHJvcGVybHlGb3JtYXR0ZWRWb3Rlckd1aWRlV2VWb3RlSWQgfSBmcm9tICcuLi8uLi91dGlscy90ZXh0Rm9ybWF0JztcblxuXG5jb25zdCBncm91cGVkRmlsdGVycyA9IFtcbiAge1xuICAgIGZpbHRlck5hbWU6ICdzaG93RmVkZXJhbFJhY2VGaWx0ZXInLFxuICAgIGZpbHRlckRpc3BsYXlOYW1lOiAnRmVkZXJhbCcsXG4gICAgZmlsdGVySWQ6ICdmZWRlcmFsUmFjZUZpbHRlcicsICAvLyB0aHVtYlVwRmlsdGVyXG4gIH0sXG4gIHtcbiAgICBmaWx0ZXJOYW1lOiAnc2hvd1N0YXRlUmFjZUZpbHRlcicsXG4gICAgZmlsdGVyRGlzcGxheU5hbWU6ICdTdGF0ZScsXG4gICAgZmlsdGVySWQ6ICdzdGF0ZVJhY2VGaWx0ZXInLFxuICB9LFxuICB7XG4gICAgZmlsdGVyTmFtZTogJ3Nob3dNZWFzdXJlUmFjZUZpbHRlcicsXG4gICAgZmlsdGVyRGlzcGxheU5hbWU6ICdNZWFzdXJlJyxcbiAgICBmaWx0ZXJJZDogJ21lYXN1cmVSYWNlRmlsdGVyJyxcbiAgfSxcbiAge1xuICAgIGZpbHRlck5hbWU6ICdzaG93TG9jYWxSYWNlRmlsdGVyJyxcbiAgICBmaWx0ZXJEaXNwbGF5TmFtZTogJ0xvY2FsJyxcbiAgICBmaWx0ZXJJZDogJ2xvY2FsUmFjZUZpbHRlcicsXG4gIH0sXG5dO1xuXG5jb25zdCBpc2xhbmRGaWx0ZXJzID0gW1xuICAvLyB7XG4gIC8vICAgZmlsdGVyTmFtZTogJ3Nob3dDb21tZW50RmlsdGVyJyxcbiAgLy8gICBpY29uOiA8Q29tbWVudEljb24gLz4sXG4gIC8vICAgZmlsdGVyRGlzcGxheU5hbWU6ICdDb21tZW50ZWQnLFxuICAvLyAgIGZpbHRlcklkOiAnaXNsYW5kRmlsdGVyQ29tbWVudGVkJyxcbiAgLy8gfSxcbl07XG5cbmNsYXNzIFZvdGVyR3VpZGVTZXR0aW5nc0FkZFBvc2l0aW9ucyBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgYWRkTmV3UG9zaXRpb25zTW9kZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2b3Rlckd1aWRlV2VWb3RlSWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgfTtcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFkZE5ld1Bvc2l0aW9uc01vZGU6IHRydWUsXG4gICAgICBhbGxCYWxsb3RJdGVtczogW10sXG4gICAgICBjdXJyZW50U2VsZWN0ZWRCYWxsb3RGaWx0ZXJzOiBbXSwgLy8gU28gd2Uga25vdyB3aGVuIHRoZSBiYWxsb3QgZmlsdGVycyBjaGFuZ2VcbiAgICAgIGN1cnJlbnRTZWxlY3RlZFBvc2l0aW9uRmlsdGVyczogW10sIC8vIFNvIHdlIGtub3cgd2hlbiB0aGUgcG9zaXRpb24gZmlsdGVycyBjaGFuZ2VcbiAgICAgIGZpbHRlcmVkQmFsbG90SXRlbXM6IFtdLFxuICAgICAgZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbjogW10sXG4gICAgICBsb2NhbEFsbEJhbGxvdEl0ZW1zSGF2ZUJlZW5SZXRyaWV2ZWQ6IHt9LFxuICAgICAgbG9jYWxQb3NpdGlvbkxpc3RIYXNCZWVuUmV0cmlldmVkOiB7fSxcbiAgICAgIG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXk6IDUsXG4gICAgICBudW1iZXJPZlBvc2l0aW9uSXRlbXNUb0Rpc3BsYXk6IDUsXG4gICAgICBwb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbjogW10sXG4gICAgICBzdGF0ZUNvZGVGcm9tSXBBZGRyZXNzOiAnJyxcbiAgICAgIHN0YXRlQ29kZUZyb21Wb3Rlckd1aWRlOiAnJyxcbiAgICAgIHN0YXRlQ29kZVRvUmV0cmlldmU6ICcnLFxuICAgICAgbG9hZGluZ01vcmVJdGVtczogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uU2Nyb2xsID0gdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdjb21wb25lbnREaWRNb3VudCBhZGROZXdQb3NpdGlvbnNNb2RlOicsIHRoaXMucHJvcHMuYWRkTmV3UG9zaXRpb25zTW9kZSwgJywgdGhpcy5wcm9wcy52b3Rlckd1aWRlV2VWb3RlSWQ6JywgdGhpcy5wcm9wcy52b3Rlckd1aWRlV2VWb3RlSWQpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkTmV3UG9zaXRpb25zTW9kZTogdGhpcy5wcm9wcy5hZGROZXdQb3NpdGlvbnNNb2RlLFxuICAgICAgdm90ZXJHdWlkZVdlVm90ZUlkOiB0aGlzLnByb3BzLnZvdGVyR3VpZGVXZVZvdGVJZCxcbiAgICB9KTtcbiAgICBsZXQgdm90ZXJHdWlkZTtcbiAgICBpZiAodGhpcy5wcm9wcy52b3Rlckd1aWRlV2VWb3RlSWQgJiYgaXNQcm9wZXJseUZvcm1hdHRlZFZvdGVyR3VpZGVXZVZvdGVJZCh0aGlzLnByb3BzLnZvdGVyR3VpZGVXZVZvdGVJZCkpIHtcbiAgICAgIHZvdGVyR3VpZGUgPSBWb3Rlckd1aWRlU3RvcmUuZ2V0Vm90ZXJHdWlkZUJ5Vm90ZXJHdWlkZUlkKHRoaXMucHJvcHMudm90ZXJHdWlkZVdlVm90ZUlkKTtcbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUud2Vfdm90ZV9pZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsb2NhbEdvb2dsZUNpdmljRWxlY3Rpb25JZDogcGFyc2VJbnQodm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQsIDEwKSxcbiAgICAgICAgICB2b3Rlckd1aWRlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vbkJhbGxvdFN0b3JlQ2hhbmdlKCk7XG4gICAgdGhpcy5vblZvdGVyU3RvcmVDaGFuZ2UoKTtcbiAgICB0aGlzLm9uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2UoKTtcbiAgICB0aGlzLmJhbGxvdFN0b3JlTGlzdGVuZXIgPSBCYWxsb3RTdG9yZS5hZGRMaXN0ZW5lcih0aGlzLm9uQmFsbG90U3RvcmVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5vcmdhbml6YXRpb25TdG9yZUxpc3RlbmVyID0gT3JnYW5pemF0aW9uU3RvcmUuYWRkTGlzdGVuZXIodGhpcy5vbk9yZ2FuaXphdGlvblN0b3JlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIHRoaXMudm90ZXJHdWlkZVN0b3JlTGlzdGVuZXIgPSBWb3Rlckd1aWRlU3RvcmUuYWRkTGlzdGVuZXIodGhpcy5vblZvdGVyR3VpZGVTdG9yZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZvdGVyU3RvcmVMaXN0ZW5lciA9IFZvdGVyU3RvcmUuYWRkTGlzdGVuZXIodGhpcy5vblZvdGVyU3RvcmVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gIH1cblxuICAvLyBnZXRQb3NpdGlvbiA9IChlbCkgPT4ge1xuICAvLyAgIGxldCB4UG9zID0gMDtcbiAgLy8gICBsZXQgeVBvcyA9IDA7XG5cbiAgLy8gICB3aGlsZSAoZWwpIHtcbiAgLy8gICAgIGlmIChlbC50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgLy8gICAgICAgLy8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzIHdpdGggYm9keS93aW5kb3cvZG9jdW1lbnQgYW5kIHBhZ2Ugc2Nyb2xsXG4gIC8vICAgICAgIGNvbnN0IHhTY3JvbGwgPSBlbC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICAvLyAgICAgICBjb25zdCB5U2Nyb2xsID0gZWwuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgLy8gICAgICAgeFBvcyArPSAoZWwub2Zmc2V0TGVmdCAtIHhTY3JvbGwgKyBlbC5jbGllbnRMZWZ0KTtcbiAgLy8gICAgICAgeVBvcyArPSAoZWwub2Zmc2V0VG9wIC0geVNjcm9sbCArIGVsLmNsaWVudFRvcCk7XG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICAvLyBmb3IgYWxsIG90aGVyIG5vbi1CT0RZIGVsZW1lbnRzXG4gIC8vICAgICAgIHhQb3MgKz0gKGVsLm9mZnNldExlZnQgLSBlbC5zY3JvbGxMZWZ0ICsgZWwuY2xpZW50TGVmdCk7XG4gIC8vICAgICAgIHlQb3MgKz0gKGVsLm9mZnNldFRvcCAtIGVsLnNjcm9sbFRvcCArIGVsLmNsaWVudFRvcCk7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4ge1xuICAvLyAgICAgeDogeFBvcyxcbiAgLy8gICAgIHk6IHlQb3MsXG4gIC8vICAgfTtcbiAgLy8gfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgKG5leHRQcm9wcykge1xuICAgIC8vIGNvbnNvbGUubG9nKCdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGFkZE5ld1Bvc2l0aW9uc01vZGU6JywgbmV4dFByb3BzLmFkZE5ld1Bvc2l0aW9uc01vZGUsICcsIG5leHRQcm9wcy52b3Rlckd1aWRlV2VWb3RlSWQ6JywgbmV4dFByb3BzLnZvdGVyR3VpZGVXZVZvdGVJZCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZGROZXdQb3NpdGlvbnNNb2RlOiBuZXh0UHJvcHMuYWRkTmV3UG9zaXRpb25zTW9kZSxcbiAgICAgIHZvdGVyR3VpZGVXZVZvdGVJZDogbmV4dFByb3BzLnZvdGVyR3VpZGVXZVZvdGVJZCxcbiAgICB9KTtcbiAgICBsZXQgdm90ZXJHdWlkZTtcbiAgICBpZiAobmV4dFByb3BzLnZvdGVyR3VpZGVXZVZvdGVJZCAmJiBpc1Byb3Blcmx5Rm9ybWF0dGVkVm90ZXJHdWlkZVdlVm90ZUlkKG5leHRQcm9wcy52b3Rlckd1aWRlV2VWb3RlSWQpKSB7XG4gICAgICB2b3Rlckd1aWRlID0gVm90ZXJHdWlkZVN0b3JlLmdldFZvdGVyR3VpZGVCeVZvdGVyR3VpZGVJZChuZXh0UHJvcHMudm90ZXJHdWlkZVdlVm90ZUlkKTtcbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUud2Vfdm90ZV9pZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsb2NhbEdvb2dsZUNpdmljRWxlY3Rpb25JZDogcGFyc2VJbnQodm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQsIDEwKSxcbiAgICAgICAgICB2b3Rlckd1aWRlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vbkJhbGxvdFN0b3JlQ2hhbmdlKCk7XG4gICAgdGhpcy5vblZvdGVyU3RvcmVDaGFuZ2UoKTtcbiAgICB0aGlzLm9uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2UoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnVm90ZXJHdWlkZVNldHRpbmdzQWRkUG9zaXRpb25zIGNvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgIC8vIFdoZW5ldmVyIGEgdm90ZXIgZ29lcyBmcm9tIFwiQWRkIEVuZG9yc2VtZW50c1wiIHRvIFwiRW5kb3JzZWQgb3IgT3Bwb3NlZFwiIHdlIHdhbnQgdG8gcmVmcmVzaCB0aGUgcG9zaXRpb24gbGlzdFxuICAgIGNvbnN0IHsgYWRkTmV3UG9zaXRpb25zTW9kZSwgY3VycmVudFNlbGVjdGVkQmFsbG90RmlsdGVycywgY3VycmVudFNlbGVjdGVkUG9zaXRpb25GaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgYWRkTmV3UG9zaXRpb25zTW9kZTogcHJldmlvdXNBZGROZXdQb3NpdGlvbnNNb2RlLCBjdXJyZW50U2VsZWN0ZWRCYWxsb3RGaWx0ZXJzOiBwcmV2aW91c1NlbGVjdGVkQmFsbG90RmlsdGVycywgY3VycmVudFNlbGVjdGVkUG9zaXRpb25GaWx0ZXJzOiBwcmV2aW91c1NlbGVjdGVkUG9zaXRpb25GaWx0ZXJzIH0gPSBwcmV2U3RhdGU7XG4gICAgLy8gY29uc29sZS5sb2coJ2NvbXBvbmVudERpZFVwZGF0ZSBhZGROZXdQb3NpdGlvbnNNb2RlOicsIGFkZE5ld1Bvc2l0aW9uc01vZGUsICcsIHByZXZpb3VzQWRkTmV3UG9zaXRpb25zTW9kZTonLCBwcmV2aW91c0FkZE5ld1Bvc2l0aW9uc01vZGUpO1xuICAgIC8vIElmIHByZXZpb3VzbHkgd2Ugd2VyZSBpbiBhZGROZXdQb3NpdGlvbnNNb2RlLCBhbmQgbm93IHdlIGFyZSBOT1QsIHVwZGF0ZSB0aGUgcG9zaXRpb25MaXN0Rm9yT3Bpbmlvbk1ha2VyXG4gICAgaWYgKHByZXZpb3VzQWRkTmV3UG9zaXRpb25zTW9kZSAmJiAhYWRkTmV3UG9zaXRpb25zTW9kZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ1dlIHNob3VsZCByZXRyaWV2ZSBwb3NpdGlvbkxpc3RGb3JPcGluaW9uTWFrZXInKTtcbiAgICAgIGNvbnN0IHsgbGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQsIHZvdGVyR3VpZGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBPcmdhbml6YXRpb25TdG9yZS5nZXRPcmdhbml6YXRpb25CeVdlVm90ZUlkKGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkKTtcbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkICYmIG9yZ2FuaXphdGlvbiAmJiBvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX3dlX3ZvdGVfaWQpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbXBvbmVudERpZFVwZGF0ZSB3ZSBoYXZlIHdoYXQgd2UgbmVlZCcpO1xuICAgICAgICBPcmdhbml6YXRpb25BY3Rpb25zLnBvc2l0aW9uTGlzdEZvck9waW5pb25NYWtlcihvcmdhbml6YXRpb24ub3JnYW5pemF0aW9uX3dlX3ZvdGVfaWQsIGZhbHNlLCB0cnVlLCB2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCk7XG4gICAgICAgIE9yZ2FuaXphdGlvbkFjdGlvbnMucG9zaXRpb25MaXN0Rm9yT3Bpbmlvbk1ha2VyKG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25fd2Vfdm90ZV9pZCwgdHJ1ZSwgZmFsc2UsIHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgdGhlIHBvc2l0aW9uIGZpbHRlcnMgaGF2ZSBjaGFuZ2VkLCByZXNldCB0aGUgbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5XG4gICAgaWYgKGN1cnJlbnRTZWxlY3RlZFBvc2l0aW9uRmlsdGVycyAmJiBwcmV2aW91c1NlbGVjdGVkUG9zaXRpb25GaWx0ZXJzKSB7XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY3VycmVudFNlbGVjdGVkUG9zaXRpb25GaWx0ZXJzKSAhPT0gSlNPTi5zdHJpbmdpZnkocHJldmlvdXNTZWxlY3RlZFBvc2l0aW9uRmlsdGVycykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5OiA1LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgdGhlIGJhbGxvdCBmaWx0ZXJzIGhhdmUgY2hhbmdlZCwgcmVzZXQgdGhlIG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXlcbiAgICBpZiAoY3VycmVudFNlbGVjdGVkQmFsbG90RmlsdGVycyAmJiBwcmV2aW91c1NlbGVjdGVkQmFsbG90RmlsdGVycykge1xuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRTZWxlY3RlZEJhbGxvdEZpbHRlcnMpICE9PSBKU09OLnN0cmluZ2lmeShwcmV2aW91c1NlbGVjdGVkQmFsbG90RmlsdGVycykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbnVtYmVyT2ZCYWxsb3RJdGVtc1RvRGlzcGxheTogNSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URSBGUk9NIERBTEUgMjAxOS0wOC0xMiBzaG91bGRDb21wb25lbnRVcGRhdGUgZ2V0cyBpbiB0aGUgd2F5IG9mIHRoZSBmaWx0ZXJpbmcgc3lzdGVtXG4gIC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZSAobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgLy8gICBpZiAodGhpcy5zdGF0ZS5hZGROZXdQb3NpdGlvbnNNb2RlICE9PSBuZXh0U3RhdGUuYWRkTmV3UG9zaXRpb25zTW9kZSkge1xuICAvLyAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuc3RhdGUuYWRkTmV3UG9zaXRpb25zTW9kZTogJywgdGhpcy5zdGF0ZS5hZGROZXdQb3NpdGlvbnNNb2RlLCAnLCBuZXh0U3RhdGUuYWRkTmV3UG9zaXRpb25zTW9kZTogJywgbmV4dFN0YXRlLmFkZE5ld1Bvc2l0aW9uc01vZGUpO1xuICAvLyAgICAgcmV0dXJuIHRydWU7XG4gIC8vICAgfVxuICAvLyAgIGlmICh0aGlzLnN0YXRlLmxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkICE9PSBuZXh0U3RhdGUubGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQpIHtcbiAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLmxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkOiAnLCB0aGlzLnN0YXRlLmxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkLCAnLCBuZXh0U3RhdGUubGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQ6ICcsIG5leHRTdGF0ZS5saW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgLy8gICB9XG4gIC8vICAgaWYgKHRoaXMuc3RhdGUubG9jYWxHb29nbGVDaXZpY0VsZWN0aW9uSWQgIT09IG5leHRTdGF0ZS5sb2NhbEdvb2dsZUNpdmljRWxlY3Rpb25JZCkge1xuICAvLyAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuc3RhdGUubG9jYWxHb29nbGVDaXZpY0VsZWN0aW9uSWQ6ICcsIHRoaXMuc3RhdGUubG9jYWxHb29nbGVDaXZpY0VsZWN0aW9uSWQsICcsIG5leHRTdGF0ZS5sb2NhbEdvb2dsZUNpdmljRWxlY3Rpb25JZDogJywgbmV4dFN0YXRlLmxvY2FsR29vZ2xlQ2l2aWNFbGVjdGlvbklkKTtcbiAgLy8gICAgIHJldHVybiB0cnVlO1xuICAvLyAgIH1cbiAgLy8gICBpZiAodGhpcy5zdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQgIT09IG5leHRTdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQpIHtcbiAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLnZvdGVyR3VpZGVXZVZvdGVJZDogJywgdGhpcy5zdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQsICcsIG5leHRTdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQ6ICcsIG5leHRTdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQpO1xuICAvLyAgICAgcmV0dXJuIHRydWU7XG4gIC8vICAgfVxuICAvLyAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLmZpbHRlcmVkUG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb24pICE9PSBKU09OLnN0cmluZ2lmeShuZXh0U3RhdGUuZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbikpIHtcbiAgLy8gICAgIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlLmZpbHRlcmVkUG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb246JywgdGhpcy5zdGF0ZS5maWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uLCAnLCBuZXh0U3RhdGUuZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbjonLCBuZXh0U3RhdGUuZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbik7XG4gIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgLy8gICB9XG4gIC8vICAgaWYgKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuZmlsdGVyZWRCYWxsb3RJdGVtcykgIT09IEpTT04uc3RyaW5naWZ5KG5leHRTdGF0ZS5maWx0ZXJlZEJhbGxvdEl0ZW1zKSkge1xuICAvLyAgICAgY29uc29sZS5sb2coJ3RoaXMuc3RhdGUuZmlsdGVyZWRCYWxsb3RJdGVtczonLCB0aGlzLnN0YXRlLmZpbHRlcmVkQmFsbG90SXRlbXMsICcsIG5leHRTdGF0ZS5maWx0ZXJlZEJhbGxvdEl0ZW1zOicsIG5leHRTdGF0ZS5maWx0ZXJlZEJhbGxvdEl0ZW1zKTtcbiAgLy8gICAgIHJldHVybiB0cnVlO1xuICAvLyAgIH1cbiAgLy8gICBjb25zb2xlLmxvZygnc2hvdWxkQ29tcG9uZW50VXBkYXRlIG5vIGNoYW5nZScpO1xuICAvLyAgIHJldHVybiBmYWxzZTtcbiAgLy8gfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLmJhbGxvdFN0b3JlTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5vcmdhbml6YXRpb25TdG9yZUxpc3RlbmVyLnJlbW92ZSgpO1xuICAgIHRoaXMudm90ZXJHdWlkZVN0b3JlTGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgdGhpcy52b3RlclN0b3JlTGlzdGVuZXIucmVtb3ZlKCk7XG4gIH1cblxuICBvbkJhbGxvdFN0b3JlQ2hhbmdlICgpIHtcbiAgICBjb25zdCB7IGxvY2FsR29vZ2xlQ2l2aWNFbGVjdGlvbklkIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGFsbEJhbGxvdEl0ZW1zRmxhdHRlbmVkID0gQmFsbG90U3RvcmUuZ2V0QWxsQmFsbG90SXRlbXNGbGF0dGVuZWQobG9jYWxHb29nbGVDaXZpY0VsZWN0aW9uSWQpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdWb3Rlckd1aWRlU2V0dGluZ3NBZGRQb3NpdGlvbnMsIG9uQmFsbG90U3RvcmVDaGFuZ2UgaW5jb21pbmdCYWxsb3RJdGVtTGlzdDonLCBpbmNvbWluZ0JhbGxvdEl0ZW1MaXN0KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFsbEJhbGxvdEl0ZW1zOiBhbGxCYWxsb3RJdGVtc0ZsYXR0ZW5lZCxcbiAgICAgIGZpbHRlcmVkQmFsbG90SXRlbXM6IGFsbEJhbGxvdEl0ZW1zRmxhdHRlbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgb25Pcmdhbml6YXRpb25TdG9yZUNoYW5nZSAoKSB7XG4gICAgY29uc3QgeyBsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCwgbG9jYWxBbGxCYWxsb3RJdGVtc0hhdmVCZWVuUmV0cmlldmVkLCBsb2NhbFBvc2l0aW9uTGlzdEhhc0JlZW5SZXRyaWV2ZWQsIHN0YXRlQ29kZUZyb21Wb3Rlckd1aWRlLCB2b3Rlckd1aWRlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCB7IHN0YXRlQ29kZUZyb21JcEFkZHJlc3MgfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gY29uc29sZS5sb2coJ29uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2UsIGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkOiAnLCBsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gICAgaWYgKCFsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCkge1xuICAgICAgY29uc3Qgdm90ZXIgPSBWb3RlclN0b3JlLmdldFZvdGVyKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnb25Pcmdhbml6YXRpb25TdG9yZUNoYW5nZSwgdm90ZXI6ICcsIHZvdGVyKTtcbiAgICAgIGlmICh2b3RlciAmJiB2b3Rlci53ZV92b3RlX2lkKSB7XG4gICAgICAgIGNvbnN0IG5ld0xpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkID0gdm90ZXIubGlua2VkX29yZ2FuaXphdGlvbl93ZV92b3RlX2lkO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnb25Pcmdhbml6YXRpb25TdG9yZUNoYW5nZSwgbmV3TGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQ6ICcsIG5ld0xpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkKTtcbiAgICAgICAgaWYgKG5ld0xpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZDogbmV3TGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgT3JnYW5pemF0aW9uQWN0aW9ucy5vcmdhbml6YXRpb25SZXRyaWV2ZShuZXdMaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh2b3RlciAmJiB2b3Rlci5zdGF0ZV9jb2RlX2Zyb21faXBfYWRkcmVzcykge1xuICAgICAgICBzdGF0ZUNvZGVGcm9tSXBBZGRyZXNzID0gdm90ZXIuc3RhdGVfY29kZV9mcm9tX2lwX2FkZHJlc3M7XG4gICAgICAgIGlmIChzdGF0ZUNvZGVGcm9tSXBBZGRyZXNzKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzdGF0ZUNvZGVGcm9tSXBBZGRyZXNzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IE9yZ2FuaXphdGlvblN0b3JlLmdldE9yZ2FuaXphdGlvbkJ5V2VWb3RlSWQobGlua2VkT3JnYW5pemF0aW9uV2VWb3RlSWQpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uOiBvcmdhbml6YXRpb24ucG9zaXRpb25fbGlzdF9mb3Jfb25lX2VsZWN0aW9uLFxuICAgICAgICBmaWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uOiBvcmdhbml6YXRpb24ucG9zaXRpb25fbGlzdF9mb3Jfb25lX2VsZWN0aW9uLFxuICAgICAgfSk7XG4gICAgICAvLyBQb3NpdGlvbnMgZm9yIHRoaXMgb3JnYW5pemF0aW9uLCBmb3IgdGhpcyBlbGVjdGlvblxuICAgICAgLy8gY29uc29sZS5sb2coJ29uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2UsIHZvdGVyR3VpZGU6ICcsIHZvdGVyR3VpZGUsICcsIG9yZ2FuaXphdGlvbjonLCBvcmdhbml6YXRpb24pO1xuICAgICAgaWYgKHZvdGVyR3VpZGUgJiYgdm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQgJiYgb3JnYW5pemF0aW9uICYmIG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25fd2Vfdm90ZV9pZCkge1xuICAgICAgICBjb25zdCBkb05vdFJldHJpZXZlUG9zaXRpb25MaXN0ID0gbG9jYWxQb3NpdGlvbkxpc3RIYXNCZWVuUmV0cmlldmVkW3ZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkXSB8fCBPcmdhbml6YXRpb25TdG9yZS5wb3NpdGlvbkxpc3RGb3JPcGluaW9uTWFrZXJIYXNCZWVuUmV0cmlldmVkT25jZSh2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCwgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl93ZV92b3RlX2lkKTtcbiAgICAgICAgaWYgKCFkb05vdFJldHJpZXZlUG9zaXRpb25MaXN0KSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NBTExJTkcgcG9zaXRpb25MaXN0Rm9yT3Bpbmlvbk1ha2VyJyk7XG4gICAgICAgICAgbG9jYWxQb3NpdGlvbkxpc3RIYXNCZWVuUmV0cmlldmVkW3ZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9uTGlzdEhhc0JlZW5SZXRyaWV2ZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgT3JnYW5pemF0aW9uQWN0aW9ucy5wb3NpdGlvbkxpc3RGb3JPcGluaW9uTWFrZXIob3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl93ZV92b3RlX2lkLCBmYWxzZSwgdHJ1ZSwgdm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQpO1xuICAgICAgICAgIE9yZ2FuaXphdGlvbkFjdGlvbnMucG9zaXRpb25MaXN0Rm9yT3Bpbmlvbk1ha2VyKG9yZ2FuaXphdGlvbi5vcmdhbml6YXRpb25fd2Vfdm90ZV9pZCwgdHJ1ZSwgZmFsc2UsIHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnVm90ZXJHdWlkZVNldHRpbmdzQWRkUG9zaXRpb25zIG9uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2Ugdm90ZXJHdWlkZTonLCB2b3Rlckd1aWRlKTtcbiAgICBsZXQgc3RhdGVDb2RlVG9SZXRyaWV2ZSA9ICcnO1xuICAgIGlmIChzdGF0ZUNvZGVGcm9tVm90ZXJHdWlkZSkge1xuICAgICAgc3RhdGVDb2RlVG9SZXRyaWV2ZSA9IHN0YXRlQ29kZUZyb21Wb3Rlckd1aWRlLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICghc3RhdGVDb2RlVG9SZXRyaWV2ZSAmJiBzdGF0ZUNvZGVGcm9tSXBBZGRyZXNzKSB7XG4gICAgICBzdGF0ZUNvZGVUb1JldHJpZXZlID0gc3RhdGVDb2RlRnJvbUlwQWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAoc3RhdGVDb2RlVG9SZXRyaWV2ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN0YXRlQ29kZVRvUmV0cmlldmUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coJ29uT3JnYW5pemF0aW9uU3RvcmVDaGFuZ2Ugc3RhdGVDb2RlVG9SZXRyaWV2ZTonLCBzdGF0ZUNvZGVUb1JldHJpZXZlKTtcbiAgICBpZiAodm90ZXJHdWlkZSAmJiB2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCAmJiBzdGF0ZUNvZGVUb1JldHJpZXZlKSB7XG4gICAgICBpZiAoIWxvY2FsQWxsQmFsbG90SXRlbXNIYXZlQmVlblJldHJpZXZlZFt2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZF0pIHtcbiAgICAgICAgbG9jYWxBbGxCYWxsb3RJdGVtc0hhdmVCZWVuUmV0cmlldmVkW3ZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkXSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFsb2NhbEFsbEJhbGxvdEl0ZW1zSGF2ZUJlZW5SZXRyaWV2ZWRbdm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWRdW3N0YXRlQ29kZVRvUmV0cmlldmVdKSB7XG4gICAgICAgIGxvY2FsQWxsQmFsbG90SXRlbXNIYXZlQmVlblJldHJpZXZlZFt2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZF1bc3RhdGVDb2RlVG9SZXRyaWV2ZV0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvTm90UmV0cmlldmVBbGxCYWxsb3RJdGVtcyA9IGxvY2FsQWxsQmFsbG90SXRlbXNIYXZlQmVlblJldHJpZXZlZFt2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZF1bc3RhdGVDb2RlVG9SZXRyaWV2ZV0gfHwgQmFsbG90U3RvcmUuYWxsQmFsbG90SXRlbXNIYXZlQmVlblJldHJpZXZlZEZvckVsZWN0aW9uKHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkLCBzdGF0ZUNvZGVUb1JldHJpZXZlKTtcbiAgICAgIGlmICghZG9Ob3RSZXRyaWV2ZUFsbEJhbGxvdEl0ZW1zKSB7XG4gICAgICAgIGxvY2FsQWxsQmFsbG90SXRlbXNIYXZlQmVlblJldHJpZXZlZFt2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZF1bc3RhdGVDb2RlVG9SZXRyaWV2ZV0gPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsb2NhbEFsbEJhbGxvdEl0ZW1zSGF2ZUJlZW5SZXRyaWV2ZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBCYWxsb3RBY3Rpb25zLmFsbEJhbGxvdEl0ZW1zUmV0cmlldmUodm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQsIHN0YXRlQ29kZVRvUmV0cmlldmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm90ZXJHdWlkZSAmJiB2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGxvY2FsR29vZ2xlQ2l2aWNFbGVjdGlvbklkOiBwYXJzZUludCh2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCwgMTApLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb25Wb3Rlckd1aWRlU3RvcmVDaGFuZ2UgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdWb3Rlckd1aWRlU2V0dGluZ3NQb3NpdGlvbnMgb25Wb3Rlckd1aWRlU3RvcmVDaGFuZ2UnKTtcbiAgICBpZiAodGhpcy5zdGF0ZS52b3Rlckd1aWRlV2VWb3RlSWQgJiYgaXNQcm9wZXJseUZvcm1hdHRlZFZvdGVyR3VpZGVXZVZvdGVJZCh0aGlzLnN0YXRlLnZvdGVyR3VpZGVXZVZvdGVJZCkpIHtcbiAgICAgIGNvbnN0IHZvdGVyR3VpZGUgPSBWb3Rlckd1aWRlU3RvcmUuZ2V0Vm90ZXJHdWlkZUJ5Vm90ZXJHdWlkZUlkKHRoaXMuc3RhdGUudm90ZXJHdWlkZVdlVm90ZUlkKTtcbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUud2Vfdm90ZV9pZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2b3Rlckd1aWRlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvY2FsR29vZ2xlQ2l2aWNFbGVjdGlvbklkOiBwYXJzZUludCh2b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZCwgMTApLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh2b3Rlckd1aWRlICYmIHZvdGVyR3VpZGUuc3RhdGVfY29kZSkge1xuICAgICAgICBjb25zdCBzdGF0ZUNvZGVGcm9tVm90ZXJHdWlkZSA9IHZvdGVyR3VpZGUuc3RhdGVfY29kZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhdGVDb2RlRnJvbVZvdGVyR3VpZGUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uVm90ZXJTdG9yZUNoYW5nZSAoKSB7XG4gICAgLy8gR2V0IFZvdGVyIGFuZCBWb3RlcidzIE9yZ2FuaXphdGlvblxuICAgIGNvbnN0IHZvdGVyID0gVm90ZXJTdG9yZS5nZXRWb3RlcigpO1xuICAgIGxldCBsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZDtcbiAgICAvLyBjb25zb2xlLmxvZygnb25Wb3RlclN0b3JlQ2hhbmdlLCB2b3RlcjonLCB2b3Rlcik7XG4gICAgaWYgKHZvdGVyICYmIHZvdGVyLndlX3ZvdGVfaWQpIHtcbiAgICAgIGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkID0gdm90ZXIubGlua2VkX29yZ2FuaXphdGlvbl93ZV92b3RlX2lkO1xuICAgICAgaWYgKGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgb3JnYW5pemF0aW9uID0gT3JnYW5pemF0aW9uU3RvcmUuZ2V0T3JnYW5pemF0aW9uQnlXZVZvdGVJZChsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gICAgICAgIGlmIChvcmdhbml6YXRpb24gJiYgb3JnYW5pemF0aW9uLm9yZ2FuaXphdGlvbl93ZV92b3RlX2lkKSB7XG4gICAgICAgICAgdGhpcy5vbk9yZ2FuaXphdGlvblN0b3JlQ2hhbmdlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgT3JnYW5pemF0aW9uQWN0aW9ucy5vcmdhbml6YXRpb25SZXRyaWV2ZShsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gICAgICAgICAgLy8gaWYgKHZvdGVyR3VpZGUgJiYgdm90ZXJHdWlkZS5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQpIHtcbiAgICAgICAgICAvLyBPcmdhbml6YXRpb25BY3Rpb25zLnBvc2l0aW9uTGlzdEZvck9waW5pb25NYWtlcihsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCwgdHJ1ZSwgZmFsc2UpOyAvLyAsIHZvdGVyR3VpZGUuZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkXG4gICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2b3RlciAmJiB2b3Rlci5zdGF0ZV9jb2RlX2Zyb21faXBfYWRkcmVzcykge1xuICAgICAgY29uc3Qgc3RhdGVDb2RlRnJvbUlwQWRkcmVzcyA9IHZvdGVyLnN0YXRlX2NvZGVfZnJvbV9pcF9hZGRyZXNzO1xuICAgICAgaWYgKHN0YXRlQ29kZUZyb21JcEFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3RhdGVDb2RlRnJvbUlwQWRkcmVzcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCdvblZvdGVyU3RvcmVDaGFuZ2UsIGxpbmtlZE9yZ2FuaXphdGlvbldlVm90ZUlkOiAnLCBsaW5rZWRPcmdhbml6YXRpb25XZVZvdGVJZCk7XG4gIH1cblxuICBvblNjcm9sbCAoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvd19tb3JlX2luZGljYXRvcicpO1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBjb25zdCB7IG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXksIG51bWJlck9mUG9zaXRpb25JdGVtc1RvRGlzcGxheSwgdG90YWxOdW1iZXJPZkJhbGxvdEl0ZW1zLCB0b3RhbE51bWJlck9mUG9zaXRpb25JdGVtcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGNvbnN0IHlQb3NpdGlvbiA9IGVsZW1lbnQub2Zmc2V0VG9wIC0gZWxlbWVudC5zY3JvbGxUb3AgKyBlbGVtZW50LmNsaWVudFRvcDtcblxuICAgICAgLy8gY29uc29sZS5sb2coJ1dpbmRvdyBTY3JvbGw6ICcsIHdpbmRvdy5zY3JvbGxZKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdFbGVtZW50IFNjcm9sbDogJywgeVBvc2l0aW9uKTtcblxuICAgICAgaWYgKG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXkgPCB0b3RhbE51bWJlck9mQmFsbG90SXRlbXMpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4geVBvc2l0aW9uIC0gNTAwKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmdNb3JlSXRlbXM6IHRydWUgfSk7XG4gICAgICAgICAgdGhpcy5pbmNyZWFzZU51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmdNb3JlSXRlbXM6IGZhbHNlIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5IDwgdG90YWxOdW1iZXJPZlBvc2l0aW9uSXRlbXMpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID4geVBvc2l0aW9uIC0gNTAwKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmdNb3JlSXRlbXM6IHRydWUgfSk7XG4gICAgICAgICAgdGhpcy5pbmNyZWFzZU51bWJlck9mUG9zaXRpb25JdGVtc1RvRGlzcGxheSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZ01vcmVJdGVtczogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ29Ub1ZvdGVyR3VpZGVEaXNwbGF5ID0gKCkgPT4ge1xuICAgIGxldCB2b3Rlckd1aWRlRGlzcGxheSA9ICcvYmFsbG90JztcbiAgICBpZiAodGhpcy5zdGF0ZS52b3Rlckd1aWRlKSB7XG4gICAgICB2b3Rlckd1aWRlRGlzcGxheSA9IGAvdm90ZXJndWlkZS8ke3RoaXMuc3RhdGUudm90ZXJHdWlkZS5vcmdhbml6YXRpb25fd2Vfdm90ZV9pZH0vYmFsbG90L2VsZWN0aW9uLyR7dGhpcy5zdGF0ZS52b3Rlckd1aWRlLmdvb2dsZV9jaXZpY19lbGVjdGlvbl9pZH0vcG9zaXRpb25zYDtcbiAgICB9XG4gICAgaGlzdG9yeVB1c2godm90ZXJHdWlkZURpc3BsYXkpO1xuICB9XG5cbiAgb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlRnJvbUJhbGxvdEl0ZW1zRmlsdGVyQmFzZSA9IChmaWx0ZXJlZEJhbGxvdEl0ZW1zLCBjdXJyZW50U2VsZWN0ZWRCYWxsb3RGaWx0ZXJzKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ29uRmlsdGVyZWRJdGVtc0NoYW5nZUZyb21CYWxsb3RJdGVtc0ZpbHRlckJhc2UsIGN1cnJlbnRTZWxlY3RlZEJhbGxvdEZpbHRlcnM6ICcsIGN1cnJlbnRTZWxlY3RlZEJhbGxvdEZpbHRlcnMpO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50U2VsZWN0ZWRCYWxsb3RGaWx0ZXJzLCBmaWx0ZXJlZEJhbGxvdEl0ZW1zIH0pO1xuICB9XG5cbiAgb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlRnJvbVBvc2l0aW9uSXRlbXNGaWx0ZXJCYXNlID0gKGZpbHRlcmVkUG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb24sIGN1cnJlbnRTZWxlY3RlZFBvc2l0aW9uRmlsdGVycykgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdvbkZpbHRlcmVkSXRlbXNDaGFuZ2VGcm9tUG9zaXRpb25JdGVtc0ZpbHRlckJhc2UsIGN1cnJlbnRTZWxlY3RlZFBvc2l0aW9uRmlsdGVyczogJywgY3VycmVudFNlbGVjdGVkUG9zaXRpb25GaWx0ZXJzKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudFNlbGVjdGVkUG9zaXRpb25GaWx0ZXJzLCBmaWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uIH0pO1xuICB9XG5cbiAgaW5jcmVhc2VOdW1iZXJPZkJhbGxvdEl0ZW1zVG9EaXNwbGF5ID0gKCkgPT4ge1xuICAgIGxldCB7IG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXkgfSA9IHRoaXMuc3RhdGU7XG4gICAgbnVtYmVyT2ZCYWxsb3RJdGVtc1RvRGlzcGxheSArPSA1O1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbnVtYmVyT2ZCYWxsb3RJdGVtc1RvRGlzcGxheSxcbiAgICAgIH0pO1xuICAgIH0sIDUwMCk7XG4gIH1cblxuICBpbmNyZWFzZU51bWJlck9mUG9zaXRpb25JdGVtc1RvRGlzcGxheSA9ICgpID0+IHtcbiAgICBsZXQgeyBudW1iZXJPZlBvc2l0aW9uSXRlbXNUb0Rpc3BsYXkgfSA9IHRoaXMuc3RhdGU7XG4gICAgbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5ICs9IDU7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBudW1iZXJPZlBvc2l0aW9uSXRlbXNUb0Rpc3BsYXksXG4gICAgICB9KTtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgZ29Ub0RpZmZlcmVudFZvdGVyR3VpZGVTZXR0aW5nc0Rhc2hib2FyZFRhYiAoZGFzaGJvYXJkRWRpdE1vZGUgPSAnJykge1xuICAgIEFwcEFjdGlvbnMuc2V0Vm90ZXJHdWlkZVNldHRpbmdzRGFzaGJvYXJkRWRpdE1vZGUoZGFzaGJvYXJkRWRpdE1vZGUpO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZW5kZXJMb2coJ1ZvdGVyR3VpZGVTZXR0aW5nc0FkZFBvc2l0aW9ucycpOyAgLy8gU2V0IExPR19SRU5ERVJfRVZFTlRTIHRvIGxvZyBhbGwgcmVuZGVyc1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFkZE5ld1Bvc2l0aW9uc01vZGUsIGxvY2FsR29vZ2xlQ2l2aWNFbGVjdGlvbklkLCBzdGF0ZUNvZGVUb1JldHJpZXZlLCBsb2FkaW5nTW9yZUl0ZW1zIH0gPSB0aGlzLnN0YXRlO1xuICAgIC8vIGNvbnNvbGUubG9nKCdWb3Rlckd1aWRlU2V0dGluZ3NBZGRQb3NpdGlvbnMgcmVuZGVyLCBhZGROZXdQb3NpdGlvbnNNb2RlOicsIGFkZE5ld1Bvc2l0aW9uc01vZGUpO1xuICAgIGlmICghYWRkTmV3UG9zaXRpb25zTW9kZSkge1xuICAgICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBDdXJyZW50IFBvc2l0aW9ucyAtIEZpcnN0IFRhYlxuICAgICAgY29uc3Qgc2VsZWN0ZWRGaWx0ZXJzQ3VycmVudERlZmF1bHQgPSBbXTtcbiAgICAgIGNvbnN0IHsgZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbiwgbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5LCBwb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdWb3Rlckd1aWRlU2V0dGluZ3NBZGRQb3NpdGlvbnMgcmVuZGVyLCBmaWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uOicsIGZpbHRlcmVkUG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb24pO1xuICAgICAgY29uc3QgYXRMZWFzdE9uZVBvc2l0aW9uRm91bmRXaXRoVGhlc2VGaWx0ZXJzID0gcG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb24gJiYgcG9zaXRpb25MaXN0Rm9yT25lRWxlY3Rpb24ubGVuZ3RoICE9PSAwO1xuICAgICAgbGV0IG51bWJlck9mUG9zaXRpb25JdGVtc0Rpc3BsYXllZCA9IDA7XG4gICAgICBsZXQgdG90YWxOdW1iZXJPZlBvc2l0aW9uSXRlbXMgPSAwO1xuICAgICAgaWYgKGF0TGVhc3RPbmVQb3NpdGlvbkZvdW5kV2l0aFRoZXNlRmlsdGVycykge1xuICAgICAgICB0b3RhbE51bWJlck9mUG9zaXRpb25JdGVtcyA9IHBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmICghYXRMZWFzdE9uZVBvc2l0aW9uRm91bmRXaXRoVGhlc2VGaWx0ZXJzKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8RW1wdHlCYWxsb3RNZXNzYWdlQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxCYWxsb3RJY29uIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5iYWxsb3RJY29uUm9vdCB9fSAvPlxuICAgICAgICAgICAgICAgIDxFbXB0eUJhbGxvdFRleHQ+WW91IGhhdmVuJmFwb3M7dCBlbmRvcnNlZCBhbnkgY2FuZGlkYXRlcyBvciBtZWFzdXJlcyB5ZXQuIENsaWNrICZxdW90O0FkZCBFbmRvcnNlbWVudHMmcXVvdDsgdG8gaGVscCBwZW9wbGUgd2hvIHRydXN0IHlvdSBtYWtlIGJldHRlciB2b3RpbmcgZGVjaXNpb25zLjwvRW1wdHlCYWxsb3RUZXh0PlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5iYWxsb3RCdXR0b25Sb290IH19XG4gICAgICAgICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmdvVG9EaWZmZXJlbnRWb3Rlckd1aWRlU2V0dGluZ3NEYXNoYm9hcmRUYWIoJ2FkZHBvc2l0aW9ucycpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxCYWxsb3RJY29uIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5iYWxsb3RCdXR0b25JY29uUm9vdCB9fSAvPlxuICAgICAgICAgICAgICAgICAgQWRkIEVuZG9yc2VtZW50c1xuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0VtcHR5QmFsbG90TWVzc2FnZUNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdmaWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uOiAnLCBmaWx0ZXJlZFBvc2l0aW9uTGlzdEZvck9uZUVsZWN0aW9uKTtcbiAgICAgIGxldCBiYWxsb3RJdGVtRGlzcGxheU5hbWVGb3JQb3NpdGlvbjtcbiAgICAgIGxldCBiYWxsb3RJdGVtV2VWb3RlSWRGb3JQb3NpdGlvbjtcbiAgICAgIGxldCBjYW5kaWRhdGVMaXN0Rm9yUG9zaXRpb247XG4gICAgICBsZXQga2luZE9mQmFsbG90SXRlbUZvclBvc2l0aW9uO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8RmlsdGVyQmFzZVxuICAgICAgICAgICAga2V5PVwiY3VycmVudFBvc2l0aW9uc0ZpbHRlckJhc2VcIlxuICAgICAgICAgICAgZ3JvdXBlZEZpbHRlcnM9e2dyb3VwZWRGaWx0ZXJzfVxuICAgICAgICAgICAgaXNsYW5kRmlsdGVycz17aXNsYW5kRmlsdGVyc31cbiAgICAgICAgICAgIGFsbEl0ZW1zPXtwb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbn1cbiAgICAgICAgICAgIG9uRmlsdGVyZWRJdGVtc0NoYW5nZT17dGhpcy5vbkZpbHRlcmVkSXRlbXNDaGFuZ2VGcm9tUG9zaXRpb25JdGVtc0ZpbHRlckJhc2V9XG4gICAgICAgICAgICBzZWxlY3RlZEZpbHRlcnNEZWZhdWx0PXtzZWxlY3RlZEZpbHRlcnNDdXJyZW50RGVmYXVsdH1cbiAgICAgICAgICAgIHRvdGFsTnVtYmVyT2ZJdGVtc0ZvdW5kPXt0b3RhbE51bWJlck9mUG9zaXRpb25JdGVtc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7LyogcHJvcHMgZ2V0IGFkZGVkIHRvIHRoaXMgY29tcG9uZW50IGluIEZpbHRlckJhc2UgKi99XG4gICAgICAgICAgICA8U2V0dGluZ3NTZWVQb3NpdGlvbnNGaWx0ZXIgLz5cbiAgICAgICAgICA8L0ZpbHRlckJhc2U+XG4gICAgICAgICAgPENhcmRDaGlsZExpc3RHcm91cCBjbGFzc05hbWU9XCJjYXJkLWNoaWxkX19saXN0LWdyb3VwXCI+XG4gICAgICAgICAgICB7ZmlsdGVyZWRQb3NpdGlvbkxpc3RGb3JPbmVFbGVjdGlvbi5tYXAoKG9uZVBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvbmVQb3NpdGlvbjonLCBvbmVQb3NpdGlvbik7XG4gICAgICAgICAgICAgIGJhbGxvdEl0ZW1EaXNwbGF5TmFtZUZvclBvc2l0aW9uID0gKG9uZVBvc2l0aW9uLmtpbmRfb2ZfYmFsbG90X2l0ZW0gPT09ICdDQU5ESURBVEUnKSA/IG9uZVBvc2l0aW9uLmNvbnRlc3Rfb2ZmaWNlX25hbWUgOiBvbmVQb3NpdGlvbi5iYWxsb3RfaXRlbV9kaXNwbGF5X25hbWU7XG4gICAgICAgICAgICAgIGJhbGxvdEl0ZW1XZVZvdGVJZEZvclBvc2l0aW9uID0gKG9uZVBvc2l0aW9uLmtpbmRfb2ZfYmFsbG90X2l0ZW0gPT09ICdDQU5ESURBVEUnKSA/IG9uZVBvc2l0aW9uLmNvbnRlc3Rfb2ZmaWNlX3dlX3ZvdGVfaWQgOiBvbmVQb3NpdGlvbi5iYWxsb3RfaXRlbV93ZV92b3RlX2lkO1xuICAgICAgICAgICAgICBpZiAoIWJhbGxvdEl0ZW1EaXNwbGF5TmFtZUZvclBvc2l0aW9uIHx8ICFiYWxsb3RJdGVtV2VWb3RlSWRGb3JQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChudW1iZXJPZlBvc2l0aW9uSXRlbXNEaXNwbGF5ZWQgPj0gbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zVG9EaXNwbGF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbnVtYmVyT2ZQb3NpdGlvbkl0ZW1zRGlzcGxheWVkICs9IDE7XG4gICAgICAgICAgICAgIGlmIChvbmVQb3NpdGlvbi5raW5kX29mX2JhbGxvdF9pdGVtID09PSAnQ0FORElEQVRFJykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNyZWF0ZSBhIHNpbXVsYXRlZCBjYW5kaWRhdGVMaXN0IGZyb20gdGhlIHBvc2l0aW9uTGlzdFxuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZUxpc3RGb3JQb3NpdGlvbiA9IFt7XG4gICAgICAgICAgICAgICAgICBiYWxsb3RfaXRlbV9kaXNwbGF5X25hbWU6IG9uZVBvc2l0aW9uLmJhbGxvdF9pdGVtX2Rpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZV9waG90b191cmxfbGFyZ2U6IG9uZVBvc2l0aW9uLmJhbGxvdF9pdGVtX2ltYWdlX3VybF9odHRwc19sYXJnZSxcbiAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZV9waG90b191cmxfbWVkaXVtOiBvbmVQb3NpdGlvbi5iYWxsb3RfaXRlbV9pbWFnZV91cmxfaHR0cHNfbWVkaXVtLFxuICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlX3Bob3RvX3VybF90aW55OiBvbmVQb3NpdGlvbi5iYWxsb3RfaXRlbV9pbWFnZV91cmxfaHR0cHNfdGlueSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlc3Rfb2ZmaWNlX2lkOiBvbmVQb3NpdGlvbi5jb250ZXN0X29mZmljZV9pZCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlc3Rfb2ZmaWNlX25hbWU6IG9uZVBvc2l0aW9uLmNvbnRlc3Rfb2ZmaWNlX25hbWUsXG4gICAgICAgICAgICAgICAgICBjb250ZXN0X29mZmljZV93ZV92b3RlX2lkOiBvbmVQb3NpdGlvbi5jb250ZXN0X29mZmljZV93ZV92b3RlX2lkLFxuICAgICAgICAgICAgICAgICAgZ29vZ2xlX2NpdmljX2VsZWN0aW9uX2lkOiBvbmVQb3NpdGlvbi5nb29nbGVfY2l2aWNfZWxlY3Rpb25faWQsXG4gICAgICAgICAgICAgICAgICBpc19vcHBvc2U6IG9uZVBvc2l0aW9uLmlzX29wcG9zZSxcbiAgICAgICAgICAgICAgICAgIGlzX3N1cHBvcnQ6IG9uZVBvc2l0aW9uLmlzX3N1cHBvcnQsXG4gICAgICAgICAgICAgICAgICBraW5kX29mX2JhbGxvdF9pdGVtOiBvbmVQb3NpdGlvbi5raW5kX29mX2JhbGxvdF9pdGVtLFxuICAgICAgICAgICAgICAgICAgcGFydHk6IG9uZVBvc2l0aW9uLmJhbGxvdF9pdGVtX3BvbGl0aWNhbF9wYXJ0eSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlX2NvZGU6IG9uZVBvc2l0aW9uLnN0YXRlX2NvZGUsXG4gICAgICAgICAgICAgICAgICB0d2l0dGVyX2ZvbGxvd2Vyc19jb3VudDogb25lUG9zaXRpb24udHdpdHRlcl9mb2xsb3dlcnNfY291bnQsXG4gICAgICAgICAgICAgICAgICB3ZV92b3RlX2lkOiBvbmVQb3NpdGlvbi5iYWxsb3RfaXRlbV93ZV92b3RlX2lkLFxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZUxpc3RGb3JQb3NpdGlvbiA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGtpbmRPZkJhbGxvdEl0ZW1Gb3JQb3NpdGlvbiA9IChvbmVQb3NpdGlvbi5raW5kX29mX2JhbGxvdF9pdGVtID09PSAnQ0FORElEQVRFJykgPyAnT0ZGSUNFJyA6ICdNRUFTVVJFJztcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2tpbmRPZkJhbGxvdEl0ZW1Gb3JQb3NpdGlvbjonLCBraW5kT2ZCYWxsb3RJdGVtRm9yUG9zaXRpb24sICcsIGJhbGxvdEl0ZW1XZVZvdGVJZEZvclBvc2l0aW9uOicsIGJhbGxvdEl0ZW1XZVZvdGVJZEZvclBvc2l0aW9uLCAnLCBiYWxsb3RJdGVtRGlzcGxheU5hbWVGb3JQb3NpdGlvbjonLCBiYWxsb3RJdGVtRGlzcGxheU5hbWVGb3JQb3NpdGlvbik7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJhbGxvdEl0ZW1Gb3JBZGRQb3NpdGlvbnNcbiAgICAgICAgICAgICAgICAgIGtleT17YGN1cnJlbnRQb3NpdGlvbktleS0ke2JhbGxvdEl0ZW1XZVZvdGVJZEZvclBvc2l0aW9ufS0ke29uZVBvc2l0aW9uLnBvc2l0aW9uX3dlX3ZvdGVfaWR9YH1cbiAgICAgICAgICAgICAgICAgIGFsbEJhbGxvdEl0ZW1zQ291bnQ9ezJ9XG4gICAgICAgICAgICAgICAgICBiYWxsb3RJdGVtRGlzcGxheU5hbWU9e2JhbGxvdEl0ZW1EaXNwbGF5TmFtZUZvclBvc2l0aW9ufVxuICAgICAgICAgICAgICAgICAgYmFsbG90SXRlbVdlVm90ZUlkPXtiYWxsb3RJdGVtV2VWb3RlSWRGb3JQb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZUxpc3Q9e2NhbmRpZGF0ZUxpc3RGb3JQb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgIGtpbmRPZkJhbGxvdEl0ZW09e2tpbmRPZkJhbGxvdEl0ZW1Gb3JQb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgIGV4dGVybmFsVW5pcXVlSWQ9e2BjdXJyZW50UG9zaXRpb25LZXktJHtiYWxsb3RJdGVtV2VWb3RlSWRGb3JQb3NpdGlvbn0tJHtvbmVQb3NpdGlvbi5wb3NpdGlvbl93ZV92b3RlX2lkfWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9DYXJkQ2hpbGRMaXN0R3JvdXA+XG4gICAgICAgICAgPFNob3dNb3JlSXRlbXMgaWQ9XCJzaG93X21vcmVfaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICBEaXNwbGF5aW5nXG4gICAgICAgICAgICB7JyAnfVxuICAgICAgICAgICAge251bWJlck9mUG9zaXRpb25JdGVtc0Rpc3BsYXllZH1cbiAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICBvZlxuICAgICAgICAgICAgeycgJ31cbiAgICAgICAgICAgIHt0b3RhbE51bWJlck9mUG9zaXRpb25JdGVtc31cbiAgICAgICAgICA8L1Nob3dNb3JlSXRlbXM+XG4gICAgICAgICAgPExvYWRpbmdJdGVtc1doZWVsPlxuICAgICAgICAgICAge2xvYWRpbmdNb3JlSXRlbXMgPyAoXG4gICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzIC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L0xvYWRpbmdJdGVtc1doZWVsPlxuICAgICAgICAgIDxQcmV2aWV3QnV0dG9uV3JhcHBlcj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgaWQ9XCJ2b3Rlckd1aWRlU2V0dGluZ3NQb3NpdGlvbnNTZWVGdWxsQmFsbG90XCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb1RvVm90ZXJHdWlkZURpc3BsYXl9XG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTZWUgUHJldmlldyZuYnNwOyZuYnNwOyZndDtcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvUHJldmlld0J1dHRvbldyYXBwZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBBZGQgTmV3IFBvc2l0aW9ucyAtIFNlY29uZCBUYWJcbiAgICAgIGNvbnN0IHNlbGVjdGVkRmlsdGVyc0FkZERlZmF1bHQgPSBbJ3Nob3dGZWRlcmFsUmFjZUZpbHRlciddO1xuICAgICAgY29uc3QgeyBhbGxCYWxsb3RJdGVtcywgZmlsdGVyZWRCYWxsb3RJdGVtcywgbnVtYmVyT2ZCYWxsb3RJdGVtc1RvRGlzcGxheSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmICghYWxsQmFsbG90SXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIExvYWRpbmdXaGVlbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGF0TGVhc3RPbmVQb3NpdGlvbkZvdW5kV2l0aFRoZXNlRmlsdGVycyA9IGZpbHRlcmVkQmFsbG90SXRlbXMgJiYgZmlsdGVyZWRCYWxsb3RJdGVtcy5sZW5ndGggIT09IDA7XG4gICAgICBsZXQgbnVtYmVyT2ZCYWxsb3RJdGVtc0Rpc3BsYXllZCA9IDA7XG4gICAgICBsZXQgdG90YWxOdW1iZXJPZkJhbGxvdEl0ZW1zID0gMDtcbiAgICAgIGlmIChhdExlYXN0T25lUG9zaXRpb25Gb3VuZFdpdGhUaGVzZUZpbHRlcnMpIHtcbiAgICAgICAgdG90YWxOdW1iZXJPZkJhbGxvdEl0ZW1zID0gZmlsdGVyZWRCYWxsb3RJdGVtcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICAvLyBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAvLyBjb25zb2xlLmxvZygnYWxsQmFsbG90SXRlbXM6ICcsIGFsbEJhbGxvdEl0ZW1zKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPEZpbHRlckJhc2VcbiAgICAgICAgICAgIGtleT1cImFkZFBvc2l0aW9uc0ZpbHRlckJhc2VcIlxuICAgICAgICAgICAgZ3JvdXBlZEZpbHRlcnM9e2dyb3VwZWRGaWx0ZXJzfVxuICAgICAgICAgICAgaXNsYW5kRmlsdGVycz17aXNsYW5kRmlsdGVyc31cbiAgICAgICAgICAgIGFsbEl0ZW1zPXthbGxCYWxsb3RJdGVtc31cbiAgICAgICAgICAgIG9uRmlsdGVyZWRJdGVtc0NoYW5nZT17dGhpcy5vbkZpbHRlcmVkSXRlbXNDaGFuZ2VGcm9tQmFsbG90SXRlbXNGaWx0ZXJCYXNlfVxuICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzRGVmYXVsdD17c2VsZWN0ZWRGaWx0ZXJzQWRkRGVmYXVsdH1cbiAgICAgICAgICAgIHRvdGFsTnVtYmVyT2ZJdGVtc0ZvdW5kPXt0b3RhbE51bWJlck9mQmFsbG90SXRlbXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgey8qIHByb3BzIGdldCBhZGRlZCB0byB0aGlzIGNvbXBvbmVudCBpbiBGaWx0ZXJCYXNlICovfVxuICAgICAgICAgICAgPFNldHRpbmdzQWRkQmFsbG90SXRlbXNGaWx0ZXJcbiAgICAgICAgICAgICAgZmlsdGVyc1Bhc3NlZEluT25jZT17c3RhdGVDb2RlVG9SZXRyaWV2ZSA/IFtzdGF0ZUNvZGVUb1JldHJpZXZlLnRvVXBwZXJDYXNlKCldIDogW119XG4gICAgICAgICAgICAgIGdvb2dsZUNpdmljRWxlY3Rpb25JZD17bG9jYWxHb29nbGVDaXZpY0VsZWN0aW9uSWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRmlsdGVyQmFzZT5cbiAgICAgICAgICB7YXRMZWFzdE9uZVBvc2l0aW9uRm91bmRXaXRoVGhlc2VGaWx0ZXJzID8gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPENhcmRDaGlsZExpc3RHcm91cCBjbGFzc05hbWU9XCJjYXJkLWNoaWxkX19saXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkQmFsbG90SXRlbXMubWFwKChvbmVCYWxsb3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25lQmFsbG90SXRlbTogJywgb25lQmFsbG90SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIW9uZUJhbGxvdEl0ZW0ud2Vfdm90ZV9pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChudW1iZXJPZkJhbGxvdEl0ZW1zRGlzcGxheWVkID49IG51bWJlck9mQmFsbG90SXRlbXNUb0Rpc3BsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBudW1iZXJPZkJhbGxvdEl0ZW1zRGlzcGxheWVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbnVtYmVyT2ZCYWxsb3RJdGVtc0Rpc3BsYXllZDogJywgbnVtYmVyT2ZCYWxsb3RJdGVtc0Rpc3BsYXllZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8QmFsbG90SXRlbUZvckFkZFBvc2l0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgIGtleT17YGFkZE5ld1Bvc2l0aW9uS2V5LSR7b25lQmFsbG90SXRlbS53ZV92b3RlX2lkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxVbmlxdWVJZD17YGFkZE5ld1Bvc2l0aW9uS2V5LSR7b25lQmFsbG90SXRlbS53ZV92b3RlX2lkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgYWxsQmFsbG90SXRlbXNDb3VudD17Mn1cbiAgICAgICAgICAgICAgICAgICAgICAvLyByZWY9eyhyZWYpID0+IHsgdGhpcy5iYWxsb3RJdGVtc1tvbmVCYWxsb3RJdGVtLndlX3ZvdGVfaWRdID0gcmVmOyB9fVxuICAgICAgICAgICAgICAgICAgICAgIGJhbGxvdEl0ZW1EaXNwbGF5TmFtZT17b25lQmFsbG90SXRlbS5iYWxsb3RfaXRlbV9kaXNwbGF5X25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlTGlzdD17b25lQmFsbG90SXRlbS5jYW5kaWRhdGVfbGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICBraW5kT2ZCYWxsb3RJdGVtPXtvbmVCYWxsb3RJdGVtLmtpbmRfb2ZfYmFsbG90X2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgYmFsbG90SXRlbVdlVm90ZUlkPXtvbmVCYWxsb3RJdGVtLndlX3ZvdGVfaWR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L0NhcmRDaGlsZExpc3RHcm91cD5cbiAgICAgICAgICAgICAgPFNob3dNb3JlSXRlbXMgaWQ9XCJzaG93X21vcmVfaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgRGlzcGxheWluZ1xuICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAge251bWJlck9mQmFsbG90SXRlbXNEaXNwbGF5ZWR9XG4gICAgICAgICAgICAgICAgeycgJ31cbiAgICAgICAgICAgICAgICBvZlxuICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAge3RvdGFsTnVtYmVyT2ZCYWxsb3RJdGVtc31cbiAgICAgICAgICAgICAgPC9TaG93TW9yZUl0ZW1zPlxuICAgICAgICAgICAgICA8TG9hZGluZ0l0ZW1zV2hlZWw+XG4gICAgICAgICAgICAgICAge2xvYWRpbmdNb3JlSXRlbXMgPyAoXG4gICAgICAgICAgICAgICAgICA8Q2lyY3VsYXJQcm9ncmVzcyAvPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8L0xvYWRpbmdJdGVtc1doZWVsPlxuICAgICAgICAgICAgICA8UHJldmlld0J1dHRvbldyYXBwZXI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGlkPVwidm90ZXJHdWlkZVNldHRpbmdzUG9zaXRpb25zU2VlRnVsbEJhbGxvdFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvVG9Wb3Rlckd1aWRlRGlzcGxheX1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNlZSBQcmV2aWV3Jm5ic3A7Jm5ic3A7Jmd0O1xuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L1ByZXZpZXdCdXR0b25XcmFwcGVyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8RW1wdHlCYWxsb3RNZXNzYWdlQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxCYWxsb3RJY29uIGNsYXNzZXM9e3sgcm9vdDogY2xhc3Nlcy5iYWxsb3RJY29uUm9vdCB9fSAvPlxuICAgICAgICAgICAgICAgIDxFbXB0eUJhbGxvdFRleHQ+Tm8gcmVzdWx0cyBmb3VuZC4gVHJ5IHNlbGVjdGluZyBkaWZmZXJlbnQgZmlsdGVycyB0byBzZWUgcmVzdWx0cy48L0VtcHR5QmFsbG90VGV4dD5cbiAgICAgICAgICAgICAgPC9FbXB0eUJhbGxvdE1lc3NhZ2VDb250YWluZXI+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBFbXB0eUJhbGxvdE1lc3NhZ2VDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICBwYWRkaW5nOiAxZW0gMmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmA7XG5cbmNvbnN0IEVtcHR5QmFsbG90VGV4dCA9IHN0eWxlZC5wYFxuICBmb250LXNpemU6IDE2cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiAxZW0gMmVtO1xuICBAbWVkaWEgKG1heC13aWR0aDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5icmVha3BvaW50cy5tZH0pIHtcbiAgICBtYXJnaW46IDFlbTtcbiAgfVxuYDtcblxuY29uc3QgUHJldmlld0J1dHRvbldyYXBwZXIgPSBzdHlsZWQuZGl2YFxuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgbWFyZ2luOiAyMHB4IDA7XG5gO1xuXG5jb25zdCBMb2FkaW5nSXRlbXNXaGVlbCA9IHN0eWxlZC5kaXZgXG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbmA7XG5cbmNvbnN0IFNob3dNb3JlSXRlbXMgPSBzdHlsZWQuZGl2YFxuICBmb250LXNpemU6IDE4cHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgQG1lZGlhIChtYXgtd2lkdGg6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYnJlYWtwb2ludHMubGd9KSB7XG4gICAgcGFkZGluZy10b3A6IDVweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogM3B4O1xuICB9XG4gIEBtZWRpYSBwcmludHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5gO1xuXG5jb25zdCBDYXJkQ2hpbGRMaXN0R3JvdXAgPSBzdHlsZWQudWxgXG4gIHBhZGRpbmc6IDA7XG5gO1xuXG5jb25zdCBzdHlsZXMgPSB0aGVtZSA9PiAoe1xuICBiYWxsb3RJY29uUm9vdDoge1xuICAgIHdpZHRoOiAxNTAsXG4gICAgaGVpZ2h0OiAxNTAsXG4gICAgY29sb3I6ICdyZ2IoMTcxLCAxNzcsIDE5MSknLFxuICB9LFxuICBiYWxsb3RCdXR0b25JY29uUm9vdDoge1xuICAgIG1hcmdpblJpZ2h0OiA4LFxuICB9LFxuICBiYWxsb3RCdXR0b25Sb290OiB7XG4gICAgd2lkdGg6IDI1MCxcbiAgICBbdGhlbWUuYnJlYWtwb2ludHMuZG93bignbWQnKV06IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoVm90ZXJHdWlkZVNldHRpbmdzQWRkUG9zaXRpb25zKTtcbiJdfQ==*/